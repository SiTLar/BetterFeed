!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(){n(4);var e=new l["default"](d["default"]),t=new f["default"];t.on("getSettings",function(){return e}),t.on("saveSettings",function(e){var t=new l["default"](void 0,e);t.save()}),t.on("checkUpdates",s);var o=[n(8),n(16),n(22)],r=!0,a=!1,u=void 0;try{for(var m,p=c.flagNames[Symbol.iterator]();!(r=(m=p.next()).done);r=!0){var h=m.value;e.flag(h)&&o.push(n(23)("./"+h))}}catch(b){a=!0,u=b}finally{try{!r&&p["return"]&&p["return"]()}finally{if(a)throw u}}var g=new MutationObserver(function(t){t.forEach(function(t){var n,r,s;for(n=0,r=t.addedNodes.length;r>n;n++)s=t.addedNodes[n],s.nodeType==Node.ELEMENT_NODE&&o.forEach(i(s,e))})});o.forEach(i(void 0,e)),g.observe(document.body,{childList:!0,subtree:!0})}function i(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){return e.apply(void 0,t)}}function s(){var e=Date.now(),t=localStorage["be-fe-version"];localStorage["be-fe-next-update"]=e+36e5;var n=new XMLHttpRequest;n.open("GET","https://api.github.com/repos/davidmz/BetterFeed/tags?page=1&&per_page=1"),n.responseType="json",n.onload=function(){try{var n=this.response;if(1==n.length&&"name"in n[0]){var o=n[0].name;localStorage["be-fe-version"]=o,localStorage["be-fe-next-update"]=e+864e5,o!=t?alert("Доступна новая версия: "+o+". Она будет установлена после перезагрузки страницы."):alert("У вас установлена последняя версия ("+o+")")}}catch(r){}},n.send()}var a=n(1),d=o(a),c=n(2),l=o(c),u=n(3),f=o(u);/^\/(attachments|files)\//.test(location.pathname)||(MutationObserver&&Promise?null===d["default"]?console.error("Can not start BetterFeed: user not logged in"):"__BetterFeed"in window||(window.__BetterFeed={},r()):console.error("Can not start BetterFeed: MutationObserver & Promise not supported"))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=null,o=localStorage.authToken;if(o){var r=o.split(".");if(3===r.length)try{var i=JSON.parse(atob(r[1]));"userId"in i&&(n=i.userId)}catch(s){}}t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){try{return JSON.parse(e)}catch(n){return t}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s="bfSettings",a=new Set(["fix-names","lightboxed-images","bottom-comment-link","colored-comment-icons","at-links","comment-icons-click","animated-gif","where-this-post-from","userpics-in-comments","embed-ly","hide-aliens","hide","user-info","comment-counters","new-lines","fold-texts","direct-style","emoji","not-you","confirm-delete","show-group-admins","docs-preview","hide-repeated-comments-icons","datetime","show-usernames"]);t.flagNames=a;var d=new Set(["not-you"]),c=function(){function e(t,n){if(o(this,e),void 0!==n)this.userId=n.userId,this.flags=n.flags,this.banPosts=n.banPosts,this.banComms=n.banComms,this.hideAlienPosts=n.hideAlienPosts;else if(this.userId=t,!localStorage.hasOwnProperty(s)&&localStorage.hasOwnProperty("ffc-sac-settings"))this.flags=JSON.parse(localStorage["ffc-sac-settings"]),this.banPosts=new Set(r(localStorage["be-fe.banList"],[])),this.banComms=new Set(r(localStorage["be-fe.banListComms"],[])),this.hideAlienPosts="1"===localStorage["be-fe.hide-alien-posts"],this.save();else{var i=r(localStorage[s],{}),a=i.hasOwnProperty(this.userId)?i[this.userId]:{};this.flags=a.hasOwnProperty("flags")?a.flags:{},this.banPosts=new Set(a.hasOwnProperty("banPosts")?a.banPosts:[]),this.banComms=new Set(a.hasOwnProperty("banComms")?a.banComms:[]),this.hideAlienPosts=a.hasOwnProperty("banComms")?!!a.hideAlienPosts:!1}}return i(e,[{key:"flag",value:function(e){return a.has(e)?this.flags.hasOwnProperty(e)?this.flags[e]:!d.has(e):!1}},{key:"setFlag",value:function(e,t){a.has(e)&&(this.flags[e]=!!t)}},{key:"save",value:function(){var e=r(localStorage[s],{});e[this.userId]={flags:this.flags,banPosts:[].concat(n(this.banPosts)),banComms:[].concat(n(this.banComms)),hideAlienPosts:this.hideAlienPosts},localStorage[s]=JSON.stringify(e)}}]),e}();t["default"]=c},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=1,i="@response",s=function(){function e(){var t=this;n(this,e),this.__responders=new Map,this.__listeners=new Map,window.addEventListener("message",function(e){if("object"==typeof e.data){var n=e.data,o=n.action,r=n.requestId,s=n.value,a=e.source,d=e.origin;if(o===i&&t.__responders.has(r))t.__responders.get(r)(s);else if(t.__listeners.has(o)){var c=t.__listeners.get(o)(s);a.postMessage({action:i,requestId:r,value:c},d)}}})}return o(e,[{key:"send",value:function(e,t,n){var o=this,i=void 0===arguments[3]?null:arguments[3];return new Promise(function(s){var a=r++;o.__responders.set(a,s),e.postMessage({action:n,requestId:a,value:i},t)})}},{key:"on",value:function(e,t){this.__listeners.set(e,t)}}]),e}();t["default"]=s,e.exports=t["default"]},function(e,t,n){var o=n(5);"string"==typeof o&&(o=[[e.id,o,""]]);n(7)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,'.be-fe-comments-fold-handle,.be-fe-in-comments-link{font-style:italic;margin-left:21px}.be-fe-comment-folded{display:none}.be-fe-comments-expanded .be-fe-comment-folded{display:block}.be-fe-comments-expanded .be-fe-comments-fold-handle{display:none}.be-fe-comment-hl{background-color:#def}.be-fe-ups{display:inline-block;background:#eee;padding:0 .25em;border-radius:.25em;cursor:default}.p-attachment-url{position:relative;display:inline-block}.p-attachment-url.be-fe-gif-ani:after{content:"\\25b6 GIF";position:absolute;bottom:3px;right:4px;background-color:#069;color:#eee;font-weight:700;padding:.1em .4em;border-radius:3px;font-size:11px}.be-fe-settingsLink .fa{display:none}.be-fe-settingsLink.be-fe-have-upgrade .fa{display:inline;color:#ff4d00;margin-left:.3em}.be-fe-from-whom{font-size:13px}.be-fe-hide-aliens-switcher{float:right;font-size:13px}.be-fe-hide-aliens-switcher label{font-weight:400}.be-fe-hide-aliens .be-fe-post-from-alien{display:none}.be-fe-hide-cont{position:relative}.be-fe-hide-win{position:absolute;-webkit-transform:translateX(-50%);transform:translateX(-50%);white-space:nowrap;background:#fff;box-shadow:0 3px 10px rgba(0,0,0,.5);border-radius:2px;border:1px solid #999;z-index:10;left:50%;top:1em;padding:1em 1em .5em;margin-top:10px}.be-fe-hide-win:after,.be-fe-hide-win:before{content:"";position:absolute;top:-10px;left:50%;border-bottom:10px solid #999;border-left:10px solid transparent;border-right:10px solid transparent;margin-left:-10px}.be-fe-hide-win:after{top:-9px;border-bottom:10px solid #fff}.be-fe-hide-win ul{padding-left:1.2em}.be-fe-hide-win li{margin-bottom:.5em}.be-fe-bottom-comment-link{font-style:italic;margin-left:21px}.add-comment-block+.be-fe-add-comment-block,.be-fe-add-comment-block:first-child,.be-fe-bottom-comment-link:first-child,.comment+.be-fe-add-comment-block,.comment+.be-fe-bottom-comment-link{display:none}.be-fe-add-comment-block .add-comment-link{font-style:italic;margin-left:6px}.be-fe-add-comment-block .fa-stack{float:left;width:1em;height:1em;line-height:1em}.be-fe-add-comment-block .fa-plus,.be-fe-add-comment-block .fa-square{font-size:60%;top:3px;left:3px}.be-fe-add-comment-block .fa-plus{top:4px;left:4px}.be-fe-userinfo-wrapper{position:relative}.be-fe-userinfo-win{position:absolute;-webkit-transform:translateX(-50%);transform:translateX(-50%);white-space:nowrap;background:#fff;box-shadow:0 3px 10px rgba(0,0,0,.5);border-radius:2px;border:1px solid #999;z-index:10;left:50%;top:1em;padding:1em 1em .5em;margin-top:10px;min-width:17em;font-size:13px;line-height:1pc;text-align:left}.be-fe-userinfo-win:after,.be-fe-userinfo-win:before{content:"";position:absolute;top:-10px;left:50%;border-bottom:10px solid #999;border-left:10px solid transparent;border-right:10px solid transparent;margin-left:-10px}.be-fe-userinfo-win:after{top:-9px;border-bottom:10px solid #fff}.be-fe-userinfo-win a{display:inline!important;color:#008!important}.be-fe-userinfo-pic{float:left;border:1px solid #999;margin-bottom:.5em;width:75px;height:75px}.be-fe-userinfo-info{margin-left:88px;position:relative;height:77px}.be-fe-userinfo-screenName{font-weight:700}.be-fe-userinfo-relation{font-style:italic;position:absolute;bottom:0;left:0}.be-fe-userinfo-actions{font-size:9pt;margin-top:7px;border-top:1px solid #ccc;padding-top:2px}.be-fe-userinfo-actions:empty{display:none}.be-fe-userinfo-actions a{font-weight:400!important}.be-fe-userinfo-actions span:after{content:"\\00a0\\2022\\00a0";color:#999}.be-fe-userinfo-actions span:last-child:after{content:""}ul.tile-list li{overflow:visible}.be-fe-comment-from{position:relative}.be-fe-comment-hidden .comment-text{color:#999}.be-fe-comment-hidden:after{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;content:"Hidden comment";background-color:#f5f5f5;box-sizing:border-box;padding:2px;color:#ccc;cursor:default;opacity:1;transition:opacity .3s,visibility 0s}.be-fe-comment-hidden:hover:after{opacity:0;visibility:hidden;transition:opacity .3s 2s,visibility 0s 2.3s}.sidebar .box-body ul li{overflow:visible}.be-fe-gdoc{max-width:100%;border:1px solid #ccc;box-shadow:0 2px 10px rgba(0,0,0,.3);margin-bottom:2em}.be-fe-folded-text{display:block;overflow:hidden;height:6pc;position:relative}.be-fe-folded-text.text{height:114px}.be-fe-folded-text:after{position:absolute;content:"";bottom:0;left:0;right:0;height:2em;background:linear-gradient(to bottom,hsla(0,0%,100%,0),hsla(0,0%,100%,.7));pointer-events:none}.be-fe-folded-text-read-more{display:none;position:absolute;bottom:0;right:0;background:linear-gradient(to right,hsla(0,0%,100%,0),#fff 3.5em);padding-left:4em;z-index:1}.be-fe-folded-text .be-fe-folded-text-read-more,.be-fe-folded-text-nl .be-fe-folded-text-read-more{display:block}.be-fe-folded-text-read-more-link{font-style:italic}.be-fe-userinfo-alert{margin-top:.5em;color:red}.be-fe-folded-text-nl{position:relative}.be-fe-folded-text-nl .be-fe-folded-text-para{position:relative;margin-bottom:0!important;overflow:hidden}.be-fe-folded-text-nl .be-fe-folded-text-para:after{position:absolute;content:"";bottom:0;left:0;right:0;height:2em;background:linear-gradient(to bottom,hsla(0,0%,100%,0),hsla(0,0%,100%,.7));pointer-events:none}.be-fe-folded-text-nl .be-fe-folded-text-hidden{display:none}body.transition-active:before{z-index:2}.be-fe-confirm-hidden{display:none}.be-fe-confirm-wrapper{display:inline-block;position:relative}.be-fe-confirm-win{position:absolute;-webkit-transform:translateX(-50%);transform:translateX(-50%);white-space:nowrap;background:#fff;box-shadow:0 3px 10px rgba(0,0,0,.5);border-radius:2px;border:1px solid #999;z-index:10;-webkit-transform:translateX(-50%) scale(.5);transform:translateX(-50%) scale(.5);left:50%;top:50%;margin-top:-17.58px;padding:.66em 1em;color:#999;visibility:hidden;opacity:0;-webkit-transition:all .1s;transition:all .1s}.be-fe-confirm-wrapper--show .be-fe-confirm-win{visibility:visible;opacity:1;-webkit-transform:translateX(-50%) scale(1);transform:translateX(-50%) scale(1);-webkit-transition:all .1s;transition:all .1s}.be-fe-group-admin,.be-fe-mutual-friend{position:relative}.be-fe-group-admin--crown,.be-fe-mutual-friend--crown{position:absolute;top:-11px;right:17px;width:24px;height:24px;background:url(https://cdn.rawgit.com/davidmz/BetterFeed/v1.23.0/images/emoji/basic/crown.png) no-repeat;background-size:100%;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.be-fe-mutual-friend--crown{right:19px;background-image:url(https://cdn.rawgit.com/davidmz/BetterFeed/v1.23.0/images/emoji/basic/star.png);-webkit-transform:none;transform:none}.embedly-card-hug{margin:5px 0!important}.embedly-card-hug>div{display:none!important}.post-body .general-attachments .attachment{display:block}.be-fe-doc-view-wrapper{width:100%;height:0;padding-bottom:40%;position:relative}.be-fe-doc-view-frame{position:absolute;top:0;left:0;width:100%;height:100%}.be-fe-username{opacity:.66;font-weight:400}',""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&o[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(e,t,n){function o(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=u[o.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](o.parts[i]);for(;i<o.parts.length;i++)r.parts.push(a(o.parts[i],t))}else{for(var s=[],i=0;i<o.parts.length;i++)s.push(a(o.parts[i],t));u[o.id]={id:o.id,refs:1,parts:s}}}}function r(e){for(var t=[],n={},o=0;o<e.length;o++){var r=e[o],i=r[0],s=r[1],a=r[2],d=r[3],c={css:s,media:a,sourceMap:d};n[i]?n[i].parts.push(c):t.push(n[i]={id:i,parts:[c]})}return t}function i(){var e=document.createElement("style"),t=p();return e.type="text/css",t.appendChild(e),e}function s(){var e=document.createElement("link"),t=p();return e.rel="stylesheet",t.appendChild(e),e}function a(e,t){var n,o,r;if(t.singleton){var a=b++;n=h||(h=i()),o=d.bind(null,n,a,!1),r=d.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(),o=l.bind(null,n),r=function(){n.parentNode.removeChild(n),n.href&&URL.revokeObjectURL(n.href)}):(n=i(),o=c.bind(null,n),r=function(){n.parentNode.removeChild(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}function d(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=g(t,r);else{var i=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function c(e,t){var n=t.css,o=t.media;t.sourceMap;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function l(e,t){var n=t.css,o=(t.media,t.sourceMap);o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(r),i&&URL.revokeObjectURL(i)}var u={},f=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},m=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),p=f(function(){return document.head||document.getElementsByTagName("head")[0]}),h=null,b=0;e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=m());var n=r(e);return o(n,t),function(e){for(var i=[],s=0;s<n.length;s++){var a=n[s],d=u[a.id];d.refs--,i.push(d)}if(e){var c=r(e);o(c,t)}for(var s=0;s<i.length;s++){var d=i[s];if(0===d.refs){for(var l=0;l<d.parts.length;l++)d.parts[l]();delete u[d.id]}}}};var g=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";function o(){var e=i+"/src/options/options.html?origin="+encodeURIComponent(location.origin);return/iPhone|iPad/.test(navigator.userAgent)?void window.open(e,"_blank"):(document.body.appendChild(d),a.innerHTML="",a.appendChild(r("iframe.light-box-iframe",{src:e,frameborder:"0"})),void d.classList.remove("hidden"))}var r=n(9),i=n(11),s=n(12);n(14);var a=r(".light-box-container.be-fe-settingsLB"),d=r(".frf-co-light-box.hidden",r(".light-box-shadow",a)),c=localStorage["be-fe-version"];setInterval(function(){var e=document.querySelector(".be-fe-settingsLink");e&&(localStorage["be-fe-version"]===c?e.classList.remove("be-fe-have-upgrade"):e.classList.add("be-fe-have-upgrade"))},2e3),d.addEventListener("click",function(){a.innerHTML="",d.classList.add("hidden")}),e.exports=function(e){if(c){e=e||document.body;var t=e.querySelector(".p-settings-betterfeed-header");if(t){var n=t.parentNode;if(!n.querySelector(".be-fe-settings-in-settings")){var i=r("a.be-fe-settings-in-settings","configure settings");n.insertBefore(r("p.bg-success",{style:"padding: 1em"},"BetterFeed enabled ("+c+") | ",i),s(n,":scope > p")[1]),i.addEventListener("click",function(){return o()})}}var a=e.querySelector(".sidebar");if(a&&!a.querySelector(".be-fe-settingsLink")){var d;a.appendChild(r(".box.be-fe-settingsLink",r(".box-header-groups","Add-ons"),r(".box-body",r("ul",r("li",d=r("a","BetterFeed settings"),r("div",{style:"font-size: 11px"},c,r("i.fa.fa-arrow-circle-up",{title:"Доступно обновление, перезагрузите страницу"}))))))),d.addEventListener("click",function(){return o()})}}}},function(e,t,n){"use strict";function o(e,t){t instanceof Node?e.appendChild(t):r(t)?t.forEach(o.bind(null,e)):"string"==typeof t&&e.appendChild(document.createTextNode(t))}var r=n(10);e.exports=function(e,t,n){var i,s,a,d=e.split("."),c=d.shift()||"div";"$"===c?a=document.createDocumentFragment():(a=document.createElement(c),d.length>0&&(a.className=d.join(" ")));var l=1;if(arguments.length>1&&"object"==typeof t&&!(t instanceof Node)&&!r(t)){for(s in t)t.hasOwnProperty(s)&&a.setAttribute(s,t[s]);l=2}if(arguments.length>l)for(i=l;i<arguments.length;i++)o(a,arguments[i]);return a}},function(e,t){"use strict";e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t){"use strict";var n="https://cdn.rawgit.com/davidmz/BetterFeed/"+localStorage["be-fe-version"];if(document.currentScript){var o=document.currentScript.src.split("/");n=o.slice(0,o.length-2).join("/")}e.exports=n},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),i=o(r);t["default"]=function(e,t,n){if(null===e)return[];var o=e.querySelectorAll(t),r=o?Array.prototype.slice.call(o):[];if(i["default"](e,t)&&r.unshift(e),n)for(var s=0,a=r.length;a>s;s++)n(r[s]);return r},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="matches"in HTMLElement.prototype?"matches":"msMatchesSelector";t["default"]=function(e,t){return e[n](t)},e.exports=t["default"]},function(e,t,n){var o=n(15);"string"==typeof o&&(o=[[e.id,o,""]]);n(7)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,'.frf-co-light-box.hidden{display:none}.light-box-arrow{position:absolute;left:0;top:50%;margin-top:-60px;width:90px;height:90pt;color:#fff;cursor:pointer}.light-box-arrow:hover{background:hsla(0,0%,100%,.1)}.light-box-arrow:before{content:"";position:absolute;left:20px;top:50%;margin-top:-15px;width:30px;height:30px;border-top:5px solid;border-right:5px solid;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.light-box-arrow.left:before{left:auto;right:20px;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}.light-box-arrow.right{left:auto;right:0}.frf-co-light-box.first .light-box-arrow.left,.frf-co-light-box.last .light-box-arrow.right{display:none}.light-box-shadow{position:fixed;top:0;left:0;width:100%;height:100%;z-index:100;cursor:zoom-out;background:rgba(0,0,0,.4)}.light-box-container,.light-box-shadow{display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center}.light-box-container{width:90%;height:90%;-webkit-overflow-scrolling:touch}.light-box-img{border:1px solid #000;box-shadow:1px 1px 10px rgba(0,0,0,.5);max-width:100%;max-height:100%;margin:auto;background-color:#fff;cursor:pointer;image-orientation:from-image}.light-box-iframe{background:#fff;width:100%;height:100%}.light-box-thumbnail{cursor:zoom-in!important}',""])},function(e,t,n){"use strict";var o=n(12),r=n(17),i=n(18),s=null;e.exports=function(e){if(e=e||document.body,!s){var t=e.querySelector(".logged-user .author a");t&&(s=t.getAttribute("href").substr(1))}o(e,".comment:not(.be-fe-comment-from)",function(e){var t=r(e,".post-body");if(t){var n=t.querySelector(".title a").getAttribute("href").substr(1),o=e.querySelector(".author a");if(!o)return void(e.classList.contains("p-timeline-comment")&&(e.classList.add("be-fe-comment-from"),e.classList.add("be-fe-comment-from-me")));var s=o.getAttribute("href").substr(1);i.ready.then(function(t){var n=t.whoIs(s);n&i.ME?e.classList.add("be-fe-comment-from-me"):n&i.FRIEND?e.classList.add("be-fe-comment-from-friend"):n&i.READER&&e.classList.add("be-fe-comment-from-reader")}),s==n&&e.classList.add("be-fe-comment-from-post-author"),e.classList.add("be-fe-comment-from"),e.classList.add("be-fe-comment-from-u-"+s),e.dataset.author=s}})}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var r=n(13),i=o(r),s=function(e,t){for(var n=arguments,o=!0;o;){var r=e,s=t;a=d=void 0,o=!1;var a=void 0===n[2]?!1:n[2],d=a?r:r.parentNode;if(!d||d.nodeType!=Node.ELEMENT_NODE)return null;if(i["default"](d,s))return d;n=[e=d,t=s],o=!0}};e.exports=s},function(e,t,n){"use strict";function o(){this.me=null,this.myID=null,this.myScreenName=null,this.friends=[],this.readers=[],this.banIds=[]}var r=n(19),i=n(20);o.ME=1,o.FRIEND=2,o.READER=4,o.prototype.whoIs=function(e){var t=0;return e===this.me&&(t|=o.ME),-1!==this.friends.indexOf(e)&&(t|=o.FRIEND),-1!==this.readers.indexOf(e)&&(t|=o.READER),t},o.prototype.isBanned=function(e){return-1!==this.banIds.indexOf(e)},o.prototype.subscribed=function(e){-1===this.friends.indexOf(e)&&this.friends.push(e)},o.prototype.unsubscribed=function(e){var t=this.friends.indexOf(e);-1!==t&&this.friends.splice(t,1)},o.prototype.blocked=function(e){-1===this.banIds.indexOf(e)&&this.banIds.push(e)},o.prototype.unblocked=function(e){var t=this.banIds.indexOf(e);-1!==t&&this.banIds.splice(t,1)},o.ready=null,o.update=function(){o.ready=r.get("/v1/users/whoami").then(function(e){var t=new o;return t.me=e.users.username,t.myID=e.users.id,t.myScreenName=e.users.screenName,i.setPic(e.users.username,e.users.profilePictureMediumUrl),t.friends=e.subscribers.map(function(e){return i.setPic(e.username,e.profilePictureMediumUrl),e.username}),t.banIds=e.users.banIds,r.get("/v1/users/"+t.me+"/subscribers").then(function(e){return t.readers=e.subscribers.map(function(e){return i.setPic(e.username,e.profilePictureMediumUrl),e.username}),t})})},o.update(),e.exports=o},function(e,t){"use strict";function n(e){return new Promise(function(t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="json",o.setRequestHeader("X-Authentication-Token",localStorage.authToken),o.onload=function(){o.response&&"err"in o.response?n(o.response.err):t(o.response)},o.send()})}function o(e,t){return new Promise(function(n,o){var r=new XMLHttpRequest;r.open("PUT",e),r.responseType="json",r.setRequestHeader("X-Authentication-Token",localStorage.authToken),r.onload=function(){r.response&&"err"in r.response?o(r.response.err):n(r.response)},r.send(t)})}function r(e,t){return new Promise(function(n,o){var r=new XMLHttpRequest;r.open("POST",e),r.responseType="json",r.setRequestHeader("X-Authentication-Token",localStorage.authToken),r.onload=function(){r.response&&"err"in r.response?o(r.response.err):n(r.response)},r.send(t)})}e.exports={get:n,put:o,post:r}},function(e,t,n){"use strict";function o(e){return r.get("/v1/users/"+e).then(function(e){var t=e.users.profilePictureMediumUrl;return t&&""!==t?t:s})}var r=n(19),i=n(21),s="https://freefeed.net/img/default-userpic-48.png",a={};e.exports={getPic:function(e){return e in a||(a[e]=o(e)),a[e]},setPic:function(e,t){a[e]=i.resolve(t&&""!==t?t:s)}}},function(e,t){"use strict";function n(e){var t=e.length,n=new Array(e.length);return new Promise(function(o,r){e.forEach(function(e,i){e.then(function(e){n[i]=e,t--,0===t&&o(n)},function(e){r(e)})})})}function o(e){return new Promise(function(t,n){t(e)})}e.exports={all:n,resolve:o}},function(e,t,n){"use strict";var o=n(12),r=n(18);e.exports=function(e){e=e||document.body,o(e,".p-settings-alert",function(){return r.update()})}},function(e,t,n){function o(e){return n(r(e))}function r(e){return i[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var i={"./animated-gif":24,"./animated-gif.js":24,"./at-links":25,"./at-links.js":25,"./block-list":26,"./block-list.js":26,"./bottom-comment-link":27,"./bottom-comment-link.js":27,"./colored-comment-icons":28,"./colored-comment-icons.js":28,"./comment-counters":31,"./comment-counters.js":31,"./comment-icons-click":34,"./comment-icons-click.js":34,"./comments-common":16,"./comments-common.js":16,"./confirm-delete":35,"./confirm-delete.js":35,"./datetime":36,"./datetime.js":36,"./direct-style":37,"./direct-style.js":37,"./docs-preview":40,"./docs-preview.js":40,"./embed-ly":41,"./embed-ly.js":41,"./emoji":44,"./emoji.js":44,"./fix-names":48,"./fix-names.js":48,"./fold-texts":50,"./fold-texts.js":50,"./hide":51,"./hide-aliens":52,"./hide-aliens.js":52,"./hide-repeated-comments-icons":53,"./hide-repeated-comments-icons.js":53,"./hide.js":51,"./iam-common":22,"./iam-common.js":22,"./lightboxed-images":56,"./lightboxed-images.js":56,"./new-lines":58,"./new-lines.js":58,"./not-you":61,"./not-you.js":61,"./settings-link":8,"./settings-link.js":8,"./show-group-admins":62,"./show-group-admins.js":62,"./show-usernames":63,"./show-usernames.js":63,"./user-info":64,"./user-info.js":64,"./userpics-in-comments":67,"./userpics-in-comments.js":67,"./where-this-post-from":72,"./where-this-post-from.js":72};o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id=23},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(!e.src.match(/^data:/)){var t=document.createElement("canvas"),n=t.width=e.width,o=t.height=e.height,r=new Image;r.crossOrigin="anonymous",r.onload=function(){t.getContext("2d").drawImage(r,0,0,n,o),e.src=t.toDataURL()},r.src=e.src}}function i(e){return new Promise(function(t,n){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.addEventListener("load",function(){var e,r,i=new Uint8Array(o.response),s=i.length,a=0;if(71!==i[0]||73!==i[1]||70!==i[2]||56!==i[3])return void n();for(e=0,r=s-9;r>e&&2>a;e++)0!==i[e]||33!==i[e+1]||249!==i[e+2]||4!==i[e+3]||0!==i[e+8]||44!==i[e+9]&&33!==i[e+9]||a++;(a>1?t:n)()}),o.send()})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(12),a=o(s);t["default"]=function(e,t){e=e||document.body,a["default"](e,"img.p-attachment-thumbnail[src$='.gif'][src*='/attachments/']:not(.be-fe-gif)",function(e){e.classList.add("be-fe-gif"),i(e.src).then(function(){e.parentNode.classList.add("be-fe-gif-ani"),e.complete?r(e):e.addEventListener("load",function(){return r(e)})},function(){})})},e.exports=t["default"]},function(e,t,n){"use strict";var o=n(12),r=n(9),i=n(17);e.exports=function(e){e=e||document.body,o(e,".comment-text, .post-body > .body > .text",function(e){for(var t=e.firstChild;t;){if(t.nodeType==Node.TEXT_NODE&&/\B@([a-z0-9_]+)/.test(t.nodeValue)){for(var n,o=/\B@([a-z0-9_]+)/g,i=t.nodeValue,s=document.createDocumentFragment(),d=0;null!==(n=o.exec(i));){var c=n[0],l=n[1],u=n.index;s.appendChild(document.createTextNode(i.substr(d,u-d))),d=u+c.length;var f=s.appendChild(r("a.be-fe-at-link",{href:"/"+l},c));a(f,".be-fe-comment-from-u-"+l)}var m=s.appendChild(document.createTextNode(i.substr(d)));e.insertBefore(s,t),e.removeChild(t),t=m}t=t.nextSibling}}),o(e,".comment-text",function(e){for(var t=e.firstChild;t;){if(t.nodeType==Node.TEXT_NODE&&/[↑^]/.test(t.nodeValue)){for(var n,o=/↑+|\^+W?/g,d=t.nodeValue,c=document.createDocumentFragment(),l=0;null!==(n=o.exec(d));){var u=n[0],f=n.index;if("^W"!==u){c.appendChild(document.createTextNode(d.substr(l,f-l))),l=f+u.length;var m=c.appendChild(r("span.be-fe-ups",u)),p=s(i(e,".ember-view"),u.length);p&&a(m,"#"+p.id)}}var h=c.appendChild(document.createTextNode(d.substr(l)));e.insertBefore(c,t),e.removeChild(t),t=h}t=t.nextSibling}})};var s=function(e,t){for(var n=null;;){var o;if(e=e.previousElementSibling,!e)break;if(e.classList.contains("more-comments"))o=parseInt(e.textContent),isNaN(o)||(t-=o);else if(e.classList.contains("more-comments-wrapper"))o=parseInt(e.firstElementChild.textContent),isNaN(o)||(t-=o);else if(e.classList.contains("ember-view")&&(t--,0==t)){n=e;break}}return n},a=function(e,t){e.dataset.hlSelector||(e.dataset.hlSelector=t,e.addEventListener("mouseover",d),e.addEventListener("mouseout",c))},d=function(e){var t;(t=e.target.dataset.hlSelector)&&o(i(e.target,".comments"),t,function(e){e.classList.add("be-fe-comment-hl")})},c=function(e){o(i(e.target,".comments"),".be-fe-comment-hl",function(e){e.classList.remove("be-fe-comment-hl")})}},function(e,t,n){"use strict";var o=(n(12),n(9)),r=n(18);e.exports=function(e){e=e||document.body;var t=e.querySelector(".sidebar a[href$='/subscriptions']");t&&(t.innerHTML="Browse/edit friends and others",r.ready.then(function(t){if(0!==t.banIds.length&&location.pathname==="/"+t.me+"/subscriptions"){var n=e.querySelector(".content .box-body");n&&!n.querySelector(".be-fe-ban-list")&&n.appendChild(o("h3","Blocked users"))}}))}},function(e,t,n){"use strict";var o=n(12),r=n(9),i=n(17);e.exports=function(e){e=e||document.body,o(e,".p-timeline-post-comment-action:not(.be-fe-copied)",function(e){e.classList.add("be-fe-copied");var t=i(e,".post-body");if(t&&!t.querySelector(".add-comment-block")){var n={"data-ember-action":e.getAttribute("data-ember-action")},o=r(".add-comment-block.be-fe-add-comment-block",r("a.fa-stack.fa-1x",n,r("i.fa.fa-comment-o fa-stack-1x"),r("i.fa.fa-square.fa-inverse.fa-stack-1x"),r("i.fa.fa-plus.fa-stack-1x")),r("a.add-comment-link",n,"Add comment"));t.querySelector(".comments").appendChild(o)}})}},function(e,t,n){"use strict";n(29);var o=n(12),r=n(9);e.exports=function(e){e=e||document.body,o(e,".comment .date:not(.be-fe-iconized)",function(e){e.classList.add("be-fe-iconized"),e.appendChild(r("i.fa.fa-comment.icon.be-fe-ico-bg"))})}},function(e,t,n){var o=n(30);"string"==typeof o&&(o=[[e.id,o,""]]);n(7)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".date.be-fe-iconized{position:relative}.date.be-fe-iconized .icon{position:absolute;top:0;left:0;z-index:1}.date.be-fe-iconized .icon.be-fe-ico-bg{z-index:0}.be-fe-ico-bg{color:#fff}.be-fe-comment-from-reader .be-fe-ico-bg{color:#ededed}.be-fe-comment-from-friend .be-fe-ico-bg{color:#cef4fc}.be-fe-comment-from-post-author .be-fe-ico-bg{color:#b5b5b5}.be-fe-comment-from-me .be-fe-ico-bg{color:#ffd061}.add-comment-block{clear:left;margin-top:8px}",""])},function(e,t,n){"use strict";var o=n(12);n(32),e.exports=function(e){e=e||document.body,o(e,".more-comments",function(e){var t=parseInt(e.textContent);isNaN(t)||(e.style.counterIncrement="comments "+t)})}},function(e,t,n){var o=n(33);"string"==typeof o&&(o=[[e.id,o,""]]);n(7)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,'.comments{counter-reset:comments}.comments .comment{counter-increment:comments 1}.comments .comment:before{content:counter(comments) ".";position:absolute;left:-38px;top:0;width:2pc;text-align:right;color:#666;visibility:hidden;opacity:0;transition:opacity .3s,visibility 0s .3s}.comments .comment:hover:before{visibility:visible;opacity:1;transition:opacity .3s,visibility 0s}',""]);
},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var r=n(17),i=o(r),s=n(13),a=o(s);e.exports=function(e){void 0===e&&document.body.addEventListener("click",d,!1)};var d=function(e){if((a["default"](e.target,".comment .date")||e.target.parentNode&&a["default"](e.target.parentNode,".comment .date"))&&0==e.button){e.preventDefault();var t=null;if(e.metaKey||e.ctrlKey){var n,o=i["default"](e.target,".ember-view"),r=1;for(o=o.nextElementSibling;o;)o.classList.contains("ember-view")?r++:o.classList.contains("more-comments")?(n=parseInt(o.textContent),isNaN(n)||(r+=n)):o.classList.contains("more-comments-wrapper")&&(n=parseInt(o.firstElementChild.textContent),isNaN(n)||(r+=n)),o=o.nextElementSibling;t=new Array(r+1).join("^")}var s=i["default"](e.target,".comment").dataset.author,d=i["default"](e.target,".post-body"),c=d.querySelector("textarea");if(!c){var l=d.querySelector(".p-timeline-post-comment-action");l&&(l.click(),c=d.querySelector("textarea"))}c&&(t?c.value+=t+" "+(e.shiftKey?"this":""):s&&(c.value+="@"+s+" "),c.focus(),c.selectionStart=c.selectionEnd=c.value.length,$(c).change())}}},function(e,t,n){"use strict";var o=n(12),r=n(9);e.exports=function(e){e=e||document.body,o(e,".p-comment-delete, .p-post-destroy, .p-timeline-post-destroy-action",function(e){if(!e.classList.contains("be-fe-confirm-hidden")){e.classList.add("be-fe-confirm-hidden");var t=null,n=r("a",e.innerHTML),o=r("a","Yes, delete!"),i=r("a","Cancel"),s=r("span.be-fe-confirm-wrapper",n,r(".be-fe-confirm-win",o," • ",i));e.parentNode.insertBefore(s,e),n.addEventListener("click",function(){s.classList.add("be-fe-confirm-wrapper--show"),t=window.setTimeout(function(){s.classList.remove("be-fe-confirm-wrapper--show"),t=null},5e3)}),i.addEventListener("click",function(){s.classList.remove("be-fe-confirm-wrapper--show"),window.clearTimeout(t)}),o.addEventListener("click",function(){window.clearTimeout(t),$(e).click()})}})}},function(e,t,n){"use strict";function o(e){var t=new Date(e),n=r(t.getHours())+":"+r(t.getMinutes()),o=s[t.getMonth()]+" "+t.getDate();return e<Date.now()-864e7&&(o+=" "+t.getFullYear()),o+", "+n}function r(e){for(var t=void 0===arguments[1]?2:arguments[1],n=e.toString();n.length<t;)n="0"+n;return n}var i=n(12);e.exports=function(e){e=e||document.body,i(e,"time",function(e){var t=Date.parse(e.getAttribute("datetime"));if(!(Date.now()-t<864e5)){var n=o(t);e.firstChild?(e.setAttribute("title",n),e.innerHTML=n):e.parentNode.setAttribute("title",n)}})};var s="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=o(r);n(38),t["default"]=function(e,t){e=e||document.body,i["default"](e,".direct-post > .title",function(e){var n=i["default"](e,".post-addressee");if(0!=n.length){for(var o,r=e.querySelector(".post-author").getAttribute("href"),s=n[0],a=s.parentNode;s;)o=s.nextSibling,a.removeChild(s),s=o;n.filter(function(e){return!e.classList.contains("post-addressee-direct")||e.getAttribute("href")!=r}).forEach(function(e,n,o){n>0&&a.appendChild(document.createTextNode(n===o.length-1?" and ":", ")),a.appendChild(e),t.flag("fix-names")&&e.getAttribute("href")===r&&a.appendChild(document.createTextNode("’"+("s"!==r.substr(-1)?"s":"")+" feed"))})}})},e.exports=t["default"]},function(e,t,n){var o=n(39);"string"==typeof o&&(o=[[e.id,o,""]]);n(7)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".timeline-post-container.direct-post{background-color:#eee;background-image:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='36' height='36' viewBox='0 0 48 48'><path fill='%23ffffff' d='M40 8H8c-2.21 0-3.98 1.79-3.98 4L4 36c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 8L24 26 8 16v-4l16 10 16-10v4z'/></svg>\");background-repeat:no-repeat;background-position:top right;background-position:top .5em right .5em;padding-left:1em;padding-right:1em;border-bottom:1px solid #fff;margin:-1px -1em 5px;border-radius:5px}.timeline-post-container.direct-post .be-fe-folded-text-para:after{background:linear-gradient(to bottom,hsla(0,0%,93%,0),hsla(0,0%,93%,.007))}.timeline-post-container.direct-post .be-fe-folded-text-read-more{background:linear-gradient(to right,hsla(0,0%,93%,0),#eee 3.5em)}.timeline-post-container.direct-post .be-fe-folded-text:after{background:linear-gradient(to bottom,hsla(0,0%,93%,0),hsla(0,0%,93%,.007))}.timeline-post-container.direct-post .fa-inverse{color:#eee}.single-post-container.direct-post{background:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='36' height='36' viewBox='0 0 48 48'><path fill='%23eeeeee' d='M40 8H8c-2.21 0-3.98 1.79-3.98 4L4 36c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 8L24 26 8 16v-4l16 10 16-10v4z'/></svg>\") no-repeat top right}.post-addressee-direct{padding-left:13px;background:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 48 48'><path fill='%23666666' d='M24 24c4.42 0 8-3.59 8-8 0-4.42-3.58-8-8-8s-8 3.58-8 8c0 4.41 3.58 8 8 8zm0 4c-5.33 0-16 2.67-16 8v4h32v-4c0-5.33-10.67-8-16-8z'/></svg>\") no-repeat left center;white-space:nowrap}",""])},function(e,t,n){"use strict";var o=n(12),r=n(9);e.exports=function(e){e=e||document.body,o(e,".general-attachments .attachment:not(.be-fe-with-preview)",function(e){var t=e.querySelector(".p-attachment-url"),n=t.querySelector("span").textContent,o=/(.*?)\s+\(.*?\)$/.exec(n)[1],i=/\.([^.]+)$/.exec(o)[1];t.download||(t.download=o,t.removeAttribute("target")),/\.null$/.test(t.href)&&(t.href=t.href.replace(/\.null$/,"")),-1!==["txt","doc","docx","xls","xlsx","pdf","ppt"].indexOf(i.toLowerCase())&&(e.classList.add("be-fe-with-preview"),e.insertBefore(r(".be-fe-doc-view-wrapper",r("iframe.be-fe-doc-view-frame",{frameborder:"0",src:"https://docs.google.com/gview?url="+encodeURIComponent(t.href)+"&embedded=true"})),e.firstChild)),"mp4"===i&&!function(){var n=r("video");n.addEventListener("loadedmetadata",function(){var t=n.videoWidth,o=n.videoHeight,i=Math.max(t,o);i>400&&(t*=400/i,o*=400/i),n.width=t,n.height=o,n.controls=!0,n.loop=!0,e.classList.add("be-fe-with-preview"),e.insertBefore(r(".be-fe-video-view-wrapper",n),e.firstChild)}),n.src=t.href}()})}},function(e,t,n){"use strict";var o=n(12),r=n(9),i=n(42);e.exports=function(e){e||(!function(e,t){var n="embedly-platform",o="script";if(!t.getElementById(n)){e.embedly=e.embedly||function(){(e.embedly.q=e.embedly.q||[]).push(arguments)};var r=t.createElement(o);r.id=n,r.async=1,r.src="https://cdn.embedly.com/widgets/platform.js";var i=t.getElementsByTagName(o)[0];i.parentNode.insertBefore(r,i)}}(window,document),embedly("on","card.rendered",function(e){e.style.margin="10px 0"})),e=e||document.body,o(e,".post-body",function(e){e.querySelector(":scope > .attachments")||o(e,".text a").some(function(t){if(!/^https?:\/\//.test(t.getAttribute("href")))return!1;var n,o,s=e.querySelector(":scope > .body").nextSibling,a=t.href;if(null!==(o=/^https:\/\/instagram\.com\/p\/([^\/]+)/.exec(a))){var d=o[1],c=i.instagram;n=r("."+c,r("a.light-box-thumbnail",{href:a,target:"_blank","data-image-src":"https://instagram.com/p/"+d+"/media/?size=l"},r("img."+c+"-image",{src:"https://instagram.com/p/"+d+"/media/?size=m"})),r(".be-fe-embed-byline",r("i.fa.fa-instagram.fa-lg")," ",r("a",{href:a,target:"_blank"},"View on INSTAGRAM")))}else if(null!==(o=/^https?:\/\/(?:www\.)?youtube\.com\/watch\?(?:v|.*?&v)=([a-zA-Z0-9_-]+)/.exec(a))||null!==(o=/^https?:\/\/(?:www\.)?youtube\.com\/v\/([a-zA-Z0-9_-]+)/.exec(a))||null!==(o=/^https?:\/\/youtu\.be\/([a-zA-Z0-9_-]+)/.exec(a))){var d=o[1],c=i.youtube;n=r(".be-fe-embed-video-cont",r(".be-fe-embed-video-wrapper",r("iframe",{src:"https://www.youtube.com/embed/"+d+"?rel=0&hd=1&fs=1",frameborder:"0",allowfullscreen:""})),r(".be-fe-embed-byline",r("i.fa.fa-youtube-play.fa-lg")," ",r("a",{href:a,target:"_blank"},"View on YOUTUBE")))}else if(null!==(o=/^https:\/\/vimeo\.com\/(\d+)/.exec(a))){var d=o[1];n=r(".be-fe-embed-video-cont",r(".be-fe-embed-video-wrapper",r("iframe",{src:"https://player.vimeo.com/video/"+d,frameborder:"0",allowfullscreen:""})),r(".be-fe-embed-byline",r("i.fa.fa-vimeo-square.fa-lg")," ",r("a",{href:a,target:"_blank"},"View on VIMEO")))}else if(null!==(o=/^https:\/\/docs\.google\.com\/(document|spreadsheets|presentation|drawings)\/d\/([^\/]+)/.exec(a))){var l=o[2],u=r("img.be-fe-gdoc");u.onerror=function(){u.style.display="none"},u.src="https://drive.google.com/thumbnail?id="+l+"&sz=w590-h236-p",n=r("a",{href:a,target:"_blank"},u)}else null!==(o=/^https:\/\/itunes\.apple\.com\/app\/id(\d+)/.exec(a))?(n=r("iframe",{src:"https://widgets.itunes.apple.com/widget.html?c=us&brc=FFFFFF&blc=FFFFFF&trc=FFFFFF&tlc=FFFFFF&d=&t=&m=software&e=software,iPadSoftware&w=325&h=300&ids="+o[1]+"&wt=discovery&partnerId=&affiliate_id=&at=&ct=",frameborder:"0"}),n.style.cssText="overflow-x:hidden;overflow-y:hidden;width:325px;height: 300px;border:0px"):null!==(o=/^https?:\/\/coub\.com\/view\/([^\/?#]+)/.exec(a))?!function(){var e=o[1];n=new Promise(function(t){var n=new XMLHttpRequest;n.open("GET","https://davidmz.me/oembed/coub/oembed.json?url="+encodeURIComponent(a)),n.responseType="json",n.onload=function(){var o=parseInt(n.response.width),i=parseInt(n.response.height);o>450&&(i=Math.round(450*i/o),o=450),t(r("div",r("iframe",{src:"https://coub.com/embed/"+e+"?muted=false&autostart=false&originalSize=false&hideTopBar=false&startWithHD=true",allowfullscreen:"true",frameborder:"0",style:"width: "+o+"px; height: "+i+"px;"}),r(".be-fe-embed-byline",r("a",{href:a,target:"_blank"},"View on COUB"))))},n.send()})}():n=r("a.embedly-card",{href:t.href,"data-card-width":"60%"});return"then"in n?n.then(function(t){e.insertBefore(r(".be-fe-embeds",t),s)}):e.insertBefore(r(".be-fe-embeds",n),s),!0})})}},function(e,t,n){var o=n(43);"string"==typeof o&&(o=[[e.id,o,""]]);n(7)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".be-fe-embeds{margin-bottom:1em}.be-fe-embed-byline{margin-top:.5em}.be-fe-embed-video-cont{max-width:500px}.be-fe-embed-video-wrapper{position:relative;width:100%;height:0;padding-bottom:56.25%;padding-top:25px}.be-fe-embed-video-wrapper>iframe{position:absolute;top:0;left:0;width:100%;height:100%}._1yAFzBdW_J8tfXQsFFkLjA-image{border:1px solid #666;max-width:100%}",""]),t.locals={instagram:"_1yAFzBdW_J8tfXQsFFkLjA"}},function(e,t,n){"use strict";function o(e){if(e){if(e.nodeType==Node.ELEMENT_NODE){var t,n;for(t=e.firstChild;t;)n=t.nextSibling,e.classList.contains("author")||o(t),t=n}var d=/:([+-]1|e-mail|non-potable_water|ничоси|[a-z0-9_]+):|((?:[\uD800-\uDBFF][\uDC00-\uDFFF])+)|([\u2702-\u27B0\u24C2\u2139\u2300-\u32FF])|(.[\u20E3])/g;if(e.nodeType==Node.TEXT_NODE&&d.test(e.nodeValue)){d.lastIndex=0;for(var c,l=e.nodeValue,u=0,f=document.createDocumentFragment();null!==(c=d.exec(l));){c.index!=u&&f.appendChild(document.createTextNode(l.substr(u,c.index-u)));var m,p,h;if(void 0!==c[1])h=f.appendChild(document.createTextNode(c[0])),s(h,c[1],c[0],!1);else if(void 0!==c[2]){var b,g,v=c[2],y=r(v);for(m=0;m<y.length;m++)i(y[m])&&m<y.length-1&&i(y[m+1])?(b=v.substr(2*m,4),g=a(y[m])+"-"+a(y[m+1]),m++):(b=v.substr(2*m,2),g=a(y[m])),h=f.appendChild(document.createTextNode(b)),s(h,g,b,!0)}else void 0!==c[3]?(h=f.appendChild(document.createTextNode(c[0])),p=c[3].charCodeAt(0),s(h,a(p),c[0],!0)):void 0!==c[4]&&(h=f.appendChild(document.createTextNode(c[0])),s(h,a(c[4].charCodeAt(0))+"-"+a(c[4].charCodeAt(1)),c[0],!0));u=c.index+c[0].length}l.length!=u&&f.appendChild(document.createTextNode(l.substr(u))),e.parentNode.insertBefore(f,e),e.parentNode.removeChild(e)}}}function r(e){var t,n=[];for(t=0;t<e.length;t+=2)n.push(1024*(e.charCodeAt(t)-55296)+(e.charCodeAt(t+1)-56320)+65536);return n}function i(e){return e>=127462&&127487>=e}function s(e,t,n,o){var r=t in h?h[t]:t,i=-1!==p.indexOf(r)?m:f;o&&(i+="/unicode");var s=l("img.be-fe-emo",{src:i+"/"+r+".png",alt:n});o||(s.title=":"+t+":"),c(s).then(function(){e.parentNode.insertBefore(l("span.be-fe-emo-wrap",s),e),e.parentNode.removeChild(e)})}function a(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t.toUpperCase()}var d=n(12),c=n(45),l=n(9),u=n(11);n(46);var f=u+"/images/emoji/basic",m=u+"/images/emoji/custom",p=["neechowsee"],h={"ничоси":"neechowsee",skeleton:"skull",poo:"poop",flame:"fire",grandma:"older_woman"};e.exports=function(e){e=e||document.body,d(e,".comment-text, .post-body .text",function(e){o(e)})}},function(e,t){"use strict";e.exports=function(e){return new Promise(function(t,n){e&&(e.complete?setTimeout(t,0):e.addEventListener("load",t))})}},function(e,t,n){var o=n(47);"string"==typeof o&&(o=[[e.id,o,""]]);n(7)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".be-fe-emo-wrap{position:relative;display:inline-block;vertical-align:top;width:1.3em}.timeline-post-container .post-body>.body .be-fe-emo-wrap{width:1.6em}.comments .be-fe-emo-wrap{width:1.5em}.be-fe-emo{position:absolute;top:0;left:50%;width:24px;height:24px;margin-left:-9pt;transition:transform .2s}.be-fe-emo:hover{transform:scale(2);transition:transform .2s .5s;z-index:1}.comments .be-fe-emo{width:18px;height:18px;margin-left:-9px;top:-1px}.timeline-post-container .post-body>.body .be-fe-emo{width:22px;height:22px;margin-left:-11px;top:-2px}",""])},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=o(r),s=n(49),a=o(s),d=n(9),c=o(d),l=null;t["default"]=function(e,t){e=e||document.body;var n=t.flag("fix-names");if(!l){var o=e.querySelector(".logged-user .author a");o&&(l=o.getAttribute("href").substr(1))}i["default"](e,".post-body > .title a:not(.be-fe-nameFixed), .p-comment-body .author a:not(.be-fe-nameFixed), .p-timeline-user-like > a:not(.be-fe-nameFixed)",function(e){if(e.hasAttribute("href")){e.classList.add("be-fe-nameFixed");var o,r=e.getAttribute("href").substr(1),i=e.textContent;n?o=a["default"](r):(o=a["default"](i),r===i||r===l&&!t.flag("not-you")||(o+=' <span class="be-fe-username">('+a["default"](r)+")</span>")),e.innerHTML=o,!t.flag("user-info")&&n&&e.setAttribute("title",i)}}),i["default"](e,".p-timeline-subscription-user, .p-timeline-sunsctiption-group, .p-user-subscriber",function(e){i["default"](e,"a[href]:not(.be-fe-nameFixed)",function(e){e.classList.add("be-fe-nameFixed");for(var o=e.getAttribute("href").substr(1),r="",i=e.firstChild;i;){if(i.nodeType==Node.TEXT_NODE&&(r=i.nodeValue.replace(/^\s*|\s*$/,""),""!==r)){n?i.nodeValue=o:o!=r&&i.parentNode.insertBefore(c["default"]("$"," ",c["default"]("span.be-fe-username","(",o,")")),i.nextSibling);break}i=i.nextSibling}""!==r&&!t.flag("user-info")&&n&&e.setAttribute("title",r)})})},e.exports=t["default"]},function(e,t){"use strict";e.exports=function(e){return e.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#x27;")}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=o(r),s=n(9),a=o(s),d=140,c=100;t["default"]=function(e,t){e=e||document.body,t.flag("new-lines")?i["default"](e,".p-timeline-post .comment-text, .p-timeline-post .body .text",function(e){if(!(e.offsetHeight<d)){var t=e.classList.contains("comment-text"),n=t?16:19;e.classList.add("be-fe-folded-text-nl");var o=null;i["default"](e,":scope > p",function(t){if(!o&&t.offsetTop+t.offsetHeight>d){o=t,t.classList.add("be-fe-folded-text-para");var r,i=Math.floor(t.offsetHeight/n);for(r=1;i>=r&&!(t.offsetTop+r*n>c);r++);t.style.height=r*n+"px";var s=a["default"]("a.be-fe-folded-text-read-more-link","Read more…"),l=t.appendChild(a["default"](".be-fe-folded-text-read-more",s));s.addEventListener("click",function(){e.classList.remove("be-fe-folded-text-nl"),o.style.height="auto"});var u=e.querySelector(".be-fe-comm-controls");u&&l.appendChild(u.cloneNode(!0))}else o&&t.classList.add("be-fe-folded-text-hidden")})}}):i["default"](e,".p-timeline-post .comment-text, .p-timeline-post .body .text",function(e){if(!(e.offsetHeight<d)){var t=e.classList.contains("comment-text"),n=null;if(t){var o,r=e.nextSibling;for(n=e.appendChild(a["default"]("span.be-fe-comm-controls"));r;)o=r.nextSibling,n.appendChild(r),r=o}e.classList.add("be-fe-folded-text");var i=a["default"]("a.be-fe-folded-text-read-more-link","Read more…"),s=e.appendChild(a["default"](".be-fe-folded-text-read-more",i));n&&s.appendChild(n.cloneNode(!0)),i.addEventListener("click",function(){return e.classList.remove("be-fe-folded-text")})}})},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=o(r),s=n(9);o(s);t["default"]=function(e,t){if(t.flag("where-this-post-from")){e=e||document.body;var n=!0,o=!1,r=void 0;try{for(var s,a=t.banComms[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var d=s.value;i["default"](e,".be-fe-comment-from-u-"+d+":not(.be-fe-comment-hidden)",function(e){e.classList.add("be-fe-comment-hidden")})}}catch(c){o=!0,r=c}finally{try{!n&&a["return"]&&a["return"]()}finally{if(o)throw r}}}},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=o(r);t["default"]=function(e,t){if(t.flag("where-this-post-from")&&(void 0===e&&setInterval(function(){var e=t.hideAlienPosts,n=document.body.querySelector(".be-fe-hide-aliens-switcher input"),o=document.body.querySelector(".posts"),r=document.body.querySelector(".be-fe-hide-aliens-counter");n&&n.checked!==e&&(n.checked=e),o&&o.classList.contains("be-fe-hide-aliens")!==e&&(e?o.classList.add("be-fe-hide-aliens"):o.classList.remove("be-fe-hide-aliens")),r&&o&&(r.innerHTML=o.querySelectorAll(".be-fe-post-from-alien").length)},500),"/"===location.pathname&&!document.body.querySelector(".be-fe-hide-aliens-switcher"))){var n=null,o=document.body.querySelector(".box-header-timeline");o&&(o.appendChild(i["default"](".be-fe-hide-aliens-switcher",i["default"]("label",n=i["default"]("input",{type:"checkbox"})," hide non-friends posts (",i["default"]("span.be-fe-hide-aliens-counter","0"),")"))),n.checked=t.hideAlienPosts,n.addEventListener("change",function(){t.hideAlienPosts=n.checked,t.save()}))}},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){if(e)for(var t,n,o,r="",i=0,s=e.firstElementChild;s;){if(s.classList.contains("ember-view"))t=s.querySelector(".p-comment"),n=t.dataset.author||t.querySelector(".author > a").getAttribute("href").substr(1),o=Date.parse(t.querySelector("time").getAttribute("datetime")),n!==r?r=n:i+9e5>o&&t.classList.add("be-fe-next-comment"),i=o;else{if(!s.classList.contains("more-comments-wrapper"))break;r="",i=0}s=s.nextElementSibling}}var r=n(12),i=n(17);n(54),e.exports=function(e){e=e||document.body;var t;e.querySelector(".comments")?r(e,".comments",o):null!==(t=e.querySelector(".p-comment"))&&o(i(t,".comments"))}},function(e,t,n){var o=n(55);"string"==typeof o&&(o=[[e.id,o,""]]);n(7)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".be-fe-next-comment>a.date{border-bottom:none;transform:none!important;position:relative}.be-fe-next-comment>a.date>*{display:none}.be-fe-next-comment>a.date:after{content:'';position:absolute;top:35%;left:50%;width:4px;height:4px;background-color:#ccc;margin-left:-2px;margin-top:-2px;border-radius:50%}.be-fe-next-comment>a.date:hover:after{background-color:#999}",""])},function(e,t,n){"use strict";n(14);var o=n(57),r=n(12),i=n(17),s=new o;document.body.addEventListener("click",function(e){var t=i(e.target,".light-box-thumbnail",!0);if(t&&0==e.button){e.preventDefault();var n=[t],o=i(t,".attachments");o&&(n=r(o,".light-box-thumbnail")),s.show(n,t)}},!1),e.exports=function(e){e=e||document.body,r(e,".p-attachment-url:not(.light-box-thumbnail)",function(e){e.dataset.imageSrc?e.classList.add("light-box-thumbnail"):/\.(jpe?g|png|gif)/i.test(e.href)&&(e.dataset.imageSrc=e.href,e.classList.add("light-box-thumbnail"))})}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(9),s=n(17),a=function(){function e(){var t=this;o(this,e),this.image=i("img"),this.cache={},this.queue=[],this.image.addEventListener("load",function(){return t.moveQueue()}),this.image.addEventListener("error",function(){return t.moveQueue()}),this.moveQueue()}return r(e,[{key:"add",value:function(e){e in this.cache||(this.cache[e]=!0,this.queue.push(e))}},{key:"moveQueue",value:function(){var e=this,t=this.queue.pop();void 0!==t?this.image.src=t:setTimeout(function(){return e.moveQueue()},250)}}]),e}(),d=function(){function e(){var t=this;o(this,e),this.imageStab="https://cdnjs.cloudflare.com/ajax/libs/galleriffic/2.0.1/css/loader.gif",this.lightBoxImage=i("img.light-box-img",{src:this.imageStab}),this.lightBox=i(".frf-co-light-box.first.last.hidden",i(".light-box-shadow",i(".light-box-container",this.lightBoxImage),i(".light-box-arrow.left"),i(".light-box-arrow.right"))),this.cList=this.lightBox.classList,this.preloader=new a,this.hidden=!0,this.slides=[],this.index=0,document.body.appendChild(this.lightBox),document.body.addEventListener("keydown",function(e){t.hidden||(27==e.keyCode?t.hide():39==e.keyCode?(t.next(),e.preventDefault()):37==e.keyCode?(t.prev(),e.preventDefault()):36==e.keyCode?(t.first(),e.preventDefault()):35==e.keyCode&&(t.last(),e.preventDefault()))},!0),this.lightBox.addEventListener("click",function(e){var n;null!==(n=s(e.target,".light-box-arrow",!0))?(e.stopPropagation(),n.classList.contains("left")?t.prev():n.classList.contains("right")&&t.next()):s(e.target,".light-box-shadow",!0)&&t.hide()}),this.lightBoxImage.addEventListener("click",function(){window.open(t.slides[t.index].href,"_blank")})}return r(e,[{key:"isFirst",value:function(){return 0===this.index}},{key:"isLast",value:function(){return this.index===this.slides.length-1}},{key:"show",value:function(e,t){var n=this;this.slides=e,e.forEach(function(e,o){e===t?n.index=o:n.preloader.add(e.dataset.imageSrc)}),this.hidden=!1,this.cList.remove("hidden"),this._showCurrent()}},{key:"_showCurrent",value:function(){this.lightBoxImage.src=this.imageStab,this.lightBoxImage.src=this.slides[this.index].dataset.imageSrc,this.lightBoxImage.style.cssText="",this.isFirst()?this.cList.add("first"):this.cList.remove("first"),this.isLast()?this.cList.add("last"):this.cList.remove("last")}},{key:"hide",value:function(){this.hidden||(this.hidden=!0,this.cList.add("hidden"))}},{key:"next",value:function(){this.hidden||this.isLast()||(this.index++,this._showCurrent())}},{key:"prev",value:function(){this.hidden||this.isFirst()||(this.index--,this._showCurrent())}},{key:"first",value:function(){this.hidden||this.isFirst()||(this.index=0,this._showCurrent())}},{key:"last",value:function(){this.hidden||this.isLast()||(this.index=this.slides.length-1,this._showCurrent())}}]),e}();e.exports=d},function(e,t,n){"use strict";var o=n(12),r=n(9);n(59);var i=function(e,t,n){e&&e.nodeType==Node.TEXT_NODE&&(e.nodeValue=e.nodeValue.replace(t,n))};e.exports=function(e){void 0===e&&(document.addEventListener("keydown",function(e){if(13===e.keyCode&&"TEXTAREA"==e.target.tagName&&e.target.classList.contains("ember-text-area")&&e.shiftKey){var t=e.target,n=t.value,o=t.selectionStart;t.value=n.substr(0,o)+"\n"+n.substr(t.selectionEnd),t.setSelectionRange(o+1,o+1)}},!0),document.addEventListener("keyup",function(e){13===e.keyCode&&"TEXTAREA"==e.target.tagName&&e.target.classList.contains("ember-text-area")&&e.shiftKey&&e.stopPropagation()},!0)),e=e||document.body,o(e,".comment-text, .post-body .text",function(e){i(e.firstChild,/^\s+/,""),i(e.lastChild,/\s+$/,"");var t,n,o,s=document.createDocumentFragment(),a=s.appendChild(r("p"));for(n=e.firstChild;n;)t=n.nextSibling,n.nodeType===Node.TEXT_NODE&&/\n/.test(n.nodeValue)?(n.nodeValue.split(/\n{2,}/).forEach(function(e,t){t>0&&(a=s.appendChild(r("p"))),e.split(/\n/).forEach(function(e,t){t>0&&a.appendChild(r("br")),a.appendChild(document.createTextNode(e))})}),n.parentNode.removeChild(n)):a.appendChild(n),n=t;if(o=e.nextSibling,e.classList.contains("comment-text"))for(var d=a.appendChild(r("span.be-fe-comm-controls"));o;)t=o.nextSibling,d.appendChild(o),o=t;e.appendChild(s)})}},function(e,t,n){var o=n(60);"string"==typeof o&&(o=[[e.id,o,""]]);n(7)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".comment .comment-text,.post-body .text{display:block}.comment .comment-text p,.post-body .text p{margin-bottom:.66em}.comment .comment-text p:last-of-type,.post-body .text p:last-of-type{margin-bottom:0}",""])},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=o(r),s=n(18),a=o(s),d=n(49),c=o(d);t["default"]=function(e,t){t.flag("fix-names")||(e=e||document.body,a["default"].ready.then(function(n){i["default"](e,"a[href='/"+n.me+"']",function(e){if(!e.firstElementChild||"IMG"!=e.firstElementChild.nodeName&&"DIV"!=e.firstElementChild.nodeName){var o=c["default"](n.myScreenName);t.flag("show-usernames")&&n.me!==n.myScreenName&&(o+=' <span class="be-fe-username">('+c["default"](n.me)+")</span>"),e.innerHTML=o}})}))},e.exports=t["default"]},function(e,t,n){"use strict";function o(e,t,n){i(t,"."+n+" a",function(t){var n=t.getAttribute("href").substr(1);(e.whoIs(n)&(c.FRIEND|c.READER))===(c.FRIEND|c.READER)&&(t.classList.add("be-fe-mutual-friend"),t.appendChild(d(".be-fe-mutual-friend--crown",{title:"Mutual friend"})))})}function r(e,t){a.all([s.get("/v1/users/"+e),s.get("/v1/users/"+e+"/subscribers")]).then(function(e){var t=e[0].users,n=e[1];t.id&&"group"===t.type&&n.subscribers.filter(function(e){return-1!==t.administrators.indexOf(e.id)}).map(function(e){return e.username}).forEach(function(e){var t=document.querySelector('.p-user-subscriber a[href="/'+e+'"]:not(.be-fe-group-admin)');t&&(t.classList.add("be-fe-group-admin"),t.appendChild(d(".be-fe-group-admin--crown",{title:"Administrator"})))})})}var i=n(12),s=n(19),a=n(21),d=n(9),c=n(18);e.exports=function(e){e=e||document.body;var t=/^\/([a-z0-9-]+)\/(subscriptions|subscribers)$/.exec(location.pathname);if(t){var n,i=t[1],s=t[2];"subscribers"===s&&(n=e.querySelector(".p-user-subscribers"))&&c.ready.then(function(e){e.whoIs(i)&c.ME?o(e,n.nextElementSibling,"p-user-subscriber"):r(i,n.nextElementSibling)}),"subscriptions"===s&&(n=e.querySelector(".p-timeline-subscription-users-header"))&&c.ready.then(function(e){e.whoIs(i)&c.ME&&o(e,n.nextElementSibling,"p-timeline-subscription-user")})}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(48),i=o(r);t["default"]=function(e,t){t.flag("fix-names")||i["default"](e,t)},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t;if("A"==e.nodeName)t=e;else{if("IMG"!=e.nodeName&&!e.classList.contains("be-fe-username")||"A"!=e.parentNode.nodeName)return null;t=e.parentNode}return t.hasAttribute("href")&&t.getAttribute("href").match(/^\/([a-z0-9]+)(-[a-z0-9]+)*$/)&&!h(t,"."+w)?t:null}function i(e){return!!h(e,"."+w,!0)}function s(e){var t=p("span.be-fe-userinfo-wrapper");e.parentNode.insertBefore(t,e),t.appendChild(e),a(e.getAttribute("href").substr(1),t)}function a(e,t,n){n=!!n,g.all([b.get("/v1/users/"+e),v.ready]).then(function(e){var o=e[0].users,r=e[1];if(o.id){o.profilePictureLargeUrl&&""!==o.profilePictureLargeUrl||(o.profilePictureLargeUrl=k);var i,s="user"===o.type,a="1"===o.isPrivate,d=r.whoIs(o.username);i=d&v.ME?"You":d&v.FRIEND?s?"Your friend":"Group (you in)":d&v.READER?"Your reader":s?"Stranger":"Group",d&v.FRIEND&&d&v.READER&&(i="Your mutual friend"),s||-1===o.administrators.indexOf(r.myID)||(i="Your group");var c=[];if(!(d&v.ME)&&(s?c.push(p("span",p("a.a-subs",d&v.FRIEND?"Unsubscribe":a?"Request subs. ":"Subscribe"))):c.push(p("span",p("a.a-subs",d&v.FRIEND?"Leave group":"Join group"))),E&&s)){var l=C.banPosts.has(o.username),u=C.banComms.has(o.username),f=r.isBanned(o.id);c.push(p("span",p("a.a-hide-posts",l?"Show posts":"Hide posts"))),c.push(p("span",p("a.a-hide-comms",u?"Show comms.":"Hide comms."))),c.push(p("span",p("a.a-block-user",f?"Unblock":"Block")))}var m=n?p(".be-fe-userinfo-alert",p("i.fa.fa-refresh")," Reload page to apply!"):null,h=p(".be-fe-userinfo-win",p("img.be-fe-userinfo-pic",{src:o.profilePictureLargeUrl}),p(".be-fe-userinfo-info",p(".be-fe-userinfo-screenName",p("a.be-fe-nameFixed",{href:"/"+o.username},o.screenName)),p(".be-fe-userinfo-userName",a?[p("i.fa.fa-lock",{title:"Private feed"})," "]:null,o.username),p(".be-fe-userinfo-relation",i)),p(".be-fe-userinfo-actions",{"data-user-id":o.id,"data-username":o.username,"data-subscribed":d&v.FRIEND?"1":"","data-posts-hidden":l?"1":"","data-comms-hidden":u?"1":"","data-user-blocked":f?"1":"","data-is-private":a?"1":""},c),m),b=t.querySelector(".be-fe-userinfo-win");b&&b.parentNode.removeChild(b),t.appendChild(h)}})}function d(e){var t=h(e,"."+w,!0);if(t){var n=t.querySelector(":scope > a");t.parentNode.insertBefore(n,t),t.parentNode.removeChild(t),"webkitTransform"in document.body.style&&(document.body.style.webkitTransform="scale(1)",setTimeout(function(){document.body.style.webkitTransform=""},0))}}function c(e){if("A"===e.target.nodeName){var t=e.target,n=h(t,".be-fe-userinfo-actions");if(n){var o=h(n,"."+w),r=n.dataset.username,i=n.dataset.userId;t.classList.contains("a-subs")?n.dataset.subscribed?b.post("/v1/users/"+r+"/unsubscribe").then(function(){v.ready.then(function(e){return e.unsubscribed(r)}),a(r,o)}):n.dataset.isPrivate?b.post("/v1/users/"+r+"/sendRequest/").then(function(){return alert("Request was sent.")}):b.post("/v1/users/"+r+"/subscribe").then(function(){v.ready.then(function(e){return e.subscribed(r)}),a(r,o)}):t.classList.contains("a-hide-posts")?(n.dataset.postsHidden?_.showPostsFrom(r):_.hidePostsFrom(r),a(r,o)):t.classList.contains("a-hide-comms")?(n.dataset.commsHidden?_.showCommsFrom(r):_.hideCommsFrom(r),a(r,o)):t.classList.contains("a-block-user")&&(n.dataset.userBlocked?b.post("/v1/users/"+r+"/unban").then(function(){v.ready.then(function(e){return e.unblocked(i)}),a(r,o,!0)}):b.post("/v1/users/"+r+"/ban").then(function(){v.ready.then(function(e){return e.blocked(i)}),a(r,o,!0)}),a(r,o))}}}function l(e){var t=r(e.target);t&&(L=setTimeout(s.bind(null,t),y)),i(e.target)&&clearTimeout(S)}function u(e){var t=r(e.target);t&&clearTimeout(L),i(e.target)&&(S=setTimeout(d.bind(null,e.target),x))}Object.defineProperty(t,"__esModule",{value:!0});var f=n(65),m=o(f),p=(n(12),n(9)),h=n(17),b=n(19),g=n(21),v=n(18),y=1e3,x=500,w="be-fe-userinfo-wrapper",k="https://freefeed.net/img/default-userpic-75.png",L=null,S=null,E=!1,C=null,_=null;t["default"]=function(e,t){e||(C=t,_=new m["default"](t),document.body.addEventListener("mouseover",l),document.body.addEventListener("mouseout",u),document.body.addEventListener("click",c),E=t.flag("hide"))},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),
o&&e(t,o),t}}(),s=n(12),a=o(s),d=n(9),c=o(d),l=n(66),u=o(l),f=n(2),m=(o(f),null);u["default"].then(function(){m=document.head.appendChild(c["default"]("style.be-fe-banlist")).sheet});var p=function(){var e=function(t){var n=this;r(this,e),this.settings=t,u["default"].then(function(){var e=!0,t=!1,o=void 0;try{for(var r,i=n.settings.banPosts[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var s=r.value;m.insertRule(".be-fe-post-from-u-"+s+" { display: none; }",0)}}catch(a){t=!0,o=a}finally{try{!e&&i["return"]&&i["return"]()}finally{if(t)throw o}}})};return i(e,[{key:"hidePostsFrom",value:function(e){this.settings.banPosts.add(e),this.settings.save(),m.insertRule(".be-fe-post-from-u-"+e+" { display: none; }",0)}},{key:"showPostsFrom",value:function(e){this.settings.banPosts["delete"](e),this.settings.save();var t=".be-fe-post-from-u-"+e;Array.prototype.slice.call(m.rules).some(function(e,n){return e.selectorText===t?(m.deleteRule(n),!0):!1})}},{key:"hideCommsFrom",value:function(e){this.settings.banComms.add(e),this.settings.save();var t=!0,n=!1,o=void 0;try{for(var r,i=this.settings.banComms[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var s=r.value;a["default"](document.body,".be-fe-comment-from-u-"+s+":not(.be-fe-comment-hidden)",function(e){e.classList.add("be-fe-comment-hidden")})}}catch(d){n=!0,o=d}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw o}}}},{key:"showCommsFrom",value:function(e){this.settings.banComms["delete"](e),this.settings.save(),a["default"](document.body,".be-fe-comment-from-u-"+e+".be-fe-comment-hidden",function(e){e.classList.remove("be-fe-comment-hidden")})}}]),e}();t["default"]=p,e.exports=t["default"]},function(e,t){"use strict";e.exports=new Promise(function(e){"complete"===document.readyState||"interactive"===document.readyState?setTimeout(e,0):document.addEventListener("DOMContentLoaded",e)})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=o(r),s=n(20),a=o(s),d=n(13),c=o(d);n(68);var l=null;t["default"]=function(e,t){if(!e&&t.flag("colored-comment-icons")&&n(70),e=e||document.body,!l){var o=e.querySelector(".logged-user .author a");o&&(l=o.getAttribute("href").substr(1))}i["default"](e,".comment a.date:not(.be-fe-with-pic)",function(e){e.classList.add("be-fe-with-pic");var t=e.parentNode,n=t.dataset.author;if(!n){if(!c["default"](t,".p-timeline-comment")||!l)return;n=l,t.classList.add("be-fe-comment-from-me"),t.classList.add("be-fe-comment-from")}var o=e.appendChild(new Image);o.className="be-fe-userpic",a["default"].getPic(n).then(function(e){return o.src=e})})},e.exports=t["default"]},function(e,t,n){var o=n(69);"string"==typeof o&&(o=[[e.id,o,""]]);n(7)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".comments .comment a.date{display:inline-block;width:1pc;height:20px;transition:transform .2s}.comments .comment a.date:hover{transform:scale(2);transition:transform .2s 1s;z-index:1}a.date .icon{display:none}a.date .be-fe-userpic{width:1pc;height:1pc;border-radius:2px}.comments .comment{min-height:17px}",""])},function(e,t,n){var o=n(71);"string"==typeof o&&(o=[[e.id,o,""]]);n(7)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,"a.date{border-bottom:2px solid transparent}.be-fe-comment-from-reader a.date{border-bottom-color:#ccc}.be-fe-comment-from-friend a.date{border-bottom-color:#5cd4f0}.be-fe-comment-from-post-author a.date{border-bottom-color:#666}.be-fe-comment-from-me a.date{border-bottom-color:#ffb811}",""])},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),i=o(r),s=n(19),a=o(s),d=n(12),c=o(d),l=n(9),u=o(l);t["default"]=function(e,t){if("/"===location.pathname){e=e||document.body;var n=!t.flag("fix-names"),o=n&&t.flag("show-usernames");c["default"](e,".timeline-post-container:not(.be-fe-where-from)",function(e){e.classList.add("be-fe-where-from");var t=e.querySelector(":scope > .avatar > a");if(t){var r=t.getAttribute("href").substr(1),s=e.querySelector("a.datetime").getAttribute("href").match(/^\/.+?\/([\w-]+)/);if(s){var d=s[1],l=[];c["default"](e,".title a",function(e){var t=e.getAttribute("href").substr(1);t!==r&&l.push(t)}),e.classList.add("be-fe-post-from-u-"+r),e.dataset.postAuthor=r,i["default"].ready.then(function(t){t.whoIs(r)&(i["default"].ME|i["default"].FRIEND)||l.some(function(e){return!!(t.whoIs(e)&i["default"].FRIEND)})||(e.classList.add("be-fe-post-from-alien"),a["default"].get("/v1/posts/"+d+"?maxLikes=all").then(function(r){var s={},a=r.users.map(function(e){return s[e.username]=n?e.screenName:e.username,e.username}).filter(function(e){return!!(t.whoIs(e)&(i["default"].ME|i["default"].FRIEND))}).filter(function(e,t,n){return n.indexOf(e)===t});if(a.length>0){var d=[];a.length<5?a.forEach(function(e,t){t>0&&(t==a.length-1?d.push(" and "):d.push(", "));var n=[s[e]];o&&s[e]!==e&&n.push(u["default"]("$"," ",u["default"]("span.be-fe-username","(",e,")"))),d.push(u["default"]("a.be-fe-nameFixed",{href:"/"+e},n))}):(a.slice(0,3).forEach(function(e,t){t>0&&d.push(", ");var n=[s[e]];o&&s[e]!==e&&n.push(u["default"]("$"," ",u["default"]("span.be-fe-username","(",e,")"))),d.push(u["default"]("a.be-fe-nameFixed",{href:"/"+e},n))}),d.push(" and "+(a.length-3)+" other")),e.querySelector(".title > div").appendChild(u["default"]("span.be-fe-from-whom"," via ",d))}else e.querySelector(".title > div").appendChild(u["default"]("span.be-fe-from-whom"," via somebody"))}))})}}})}},e.exports=t["default"]}]);