!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(){n(1);var e=n(5),t=[n(8),n(14)];e.init(),e.loadSettings().then(function(e){for(var o in e)e.hasOwnProperty(o)&&e[o]===!0&&t.push(n(20)("./"+o));var i=new MutationObserver(function(n){n.forEach(function(n){var o,i,r;for(o=0,i=n.addedNodes.length;i>o;o++)r=n.addedNodes[o],r.nodeType==Node.ELEMENT_NODE&&t.forEach(function(t){t(r,e)})})});t.forEach(function(t){t(void 0,e)}),i.observe(document.body,{childList:!0,subtree:!0})})}/^\/(attachments|files)\//.test(location.pathname)||(MutationObserver&&Promise?"__BetterFeed"in window||(window.__BetterFeed={},o()):console.error("Can not start BetterFeed: MutationObserver & Promise not supported"))},function(e,t,n){var o=n(2);"string"==typeof o&&(o=[[e.id,o,""]]);n(4)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(3)(),t.push([e.id,'.be-fe-comments-fold-handle,.be-fe-in-comments-link{font-style:italic;margin-left:21px}.be-fe-comment-folded{display:none}.be-fe-comments-expanded .be-fe-comment-folded{display:block}.be-fe-comments-expanded .be-fe-comments-fold-handle{display:none}.be-fe-comment-hl{background-color:#def}.be-fe-ups{display:inline-block;background:#eee;padding:0 .25em;border-radius:.25em;cursor:default}.p-attachment-url{position:relative;display:inline-block}.p-attachment-url.be-fe-gif-ani:after{content:"\\25b6 GIF";position:absolute;bottom:3px;right:4px;background-color:#069;color:#eee;font-weight:700;padding:.1em .4em;border-radius:3px;font-size:11px}.be-fe-settingsLink .fa{display:none}.be-fe-settingsLink.be-fe-have-upgrade .fa{display:inline;color:#ff4d00;margin-left:.3em}.be-fe-from-whom{font-size:13px}.be-fe-hide-aliens-switcher{float:right;font-size:13px}.be-fe-hide-aliens-switcher label{font-weight:400}.be-fe-hide-aliens .be-fe-post-from-alien{display:none}.be-fe-hide-cont{position:relative}.be-fe-hide-win{position:absolute;-webkit-transform:translateX(-50%);transform:translateX(-50%);white-space:nowrap;background:#fff;box-shadow:0 3px 10px rgba(0,0,0,.5);border-radius:2px;border:1px solid #999;z-index:10;left:50%;top:1em;padding:1em 1em .5em;margin-top:10px}.be-fe-hide-win:after,.be-fe-hide-win:before{content:"";position:absolute;top:-10px;left:50%;border-bottom:10px solid #999;border-left:10px solid transparent;border-right:10px solid transparent;margin-left:-10px}.be-fe-hide-win:after{top:-9px;border-bottom:10px solid #fff}.be-fe-hide-win ul{padding-left:1.2em}.be-fe-hide-win li{margin-bottom:.5em}.be-fe-bottom-comment-link{font-style:italic;margin-left:21px}.add-comment-block+.be-fe-add-comment-block,.be-fe-add-comment-block:first-child,.be-fe-bottom-comment-link:first-child,.comment+.be-fe-add-comment-block,.comment+.be-fe-bottom-comment-link{display:none}.be-fe-add-comment-block .add-comment-link{font-style:italic;margin-left:6px}.be-fe-add-comment-block .fa-stack{float:left;width:1em;height:1em;line-height:1em}.be-fe-add-comment-block .fa-plus,.be-fe-add-comment-block .fa-square{font-size:60%;top:3px;left:3px}.be-fe-add-comment-block .fa-plus{top:4px;left:4px}.be-fe-userinfo-wrapper{position:relative}.be-fe-userinfo-win{position:absolute;-webkit-transform:translateX(-50%);transform:translateX(-50%);white-space:nowrap;background:#fff;box-shadow:0 3px 10px rgba(0,0,0,.5);border-radius:2px;border:1px solid #999;z-index:10;left:50%;top:1em;padding:1em 1em .5em;margin-top:10px;min-width:17em;font-size:13px;line-height:1pc;text-align:left}.be-fe-userinfo-win:after,.be-fe-userinfo-win:before{content:"";position:absolute;top:-10px;left:50%;border-bottom:10px solid #999;border-left:10px solid transparent;border-right:10px solid transparent;margin-left:-10px}.be-fe-userinfo-win:after{top:-9px;border-bottom:10px solid #fff}.be-fe-userinfo-win a{display:inline!important;color:#008!important}.be-fe-userinfo-pic{float:left;border:1px solid #999;margin-bottom:.5em;width:75px;height:75px}.be-fe-userinfo-info{margin-left:88px;position:relative;height:77px}.be-fe-userinfo-screenName{font-weight:700}.be-fe-userinfo-userName{font-family:consolas,menlo,monaco,monospace}.be-fe-userinfo-relation{font-style:italic;position:absolute;bottom:0;left:0}.be-fe-userinfo-actions{font-size:9pt;margin-top:7px;border-top:1px solid #ccc;padding-top:2px}.be-fe-userinfo-actions:empty{display:none}.be-fe-userinfo-actions a{font-weight:400!important}.be-fe-userinfo-actions span:after{content:" \\2022 ";color:#999}.be-fe-userinfo-actions span:last-child:after{content:""}ul.tile-list li{overflow:visible}.be-fe-comment-from{position:relative}.be-fe-comment-hidden .comment-text{color:#999}.be-fe-comment-hidden:after{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;content:"Hidden comment";background-color:#f5f5f5;box-sizing:border-box;padding:2px;color:#ccc;cursor:default;opacity:1;transition:opacity .3s,visibility 0s}.be-fe-comment-hidden:hover:after{opacity:0;visibility:hidden;transition:opacity .3s 2s,visibility 0s 2.3s}.sidebar .box-body ul li{overflow:visible}.be-fe-gdoc{max-width:100%;border:1px solid #ccc;box-shadow:0 2px 10px rgba(0,0,0,.3);margin-bottom:2em}.be-fe-folded-text{display:block;overflow:hidden;height:6pc;position:relative}.be-fe-folded-text.text{height:114px}.be-fe-folded-text:after{position:absolute;content:"";bottom:0;left:0;right:0;height:2em;background:linear-gradient(to bottom,hsla(0,0%,100%,0),hsla(0,0%,100%,.7));pointer-events:none}.be-fe-folded-text-read-more{display:none;position:absolute;bottom:0;right:0;background:linear-gradient(to right,hsla(0,0%,100%,0),#fff 3.5em);padding-left:4em;font-style:italic;z-index:1}.be-fe-folded-text .be-fe-folded-text-read-more,.be-fe-folded-text-nl .be-fe-folded-text-read-more{display:block}.be-fe-userinfo-alert{margin-top:.5em;color:red}.be-fe-folded-text-nl{position:relative}.be-fe-folded-text-nl .be-fe-folded-text-para{position:relative;margin-bottom:0!important;overflow:hidden}.be-fe-folded-text-nl .be-fe-folded-text-para:after{position:absolute;content:"";bottom:0;left:0;right:0;height:2em;background:linear-gradient(to bottom,hsla(0,0%,100%,0),hsla(0,0%,100%,.7));pointer-events:none}.be-fe-folded-text-nl .be-fe-folded-text-hidden{display:none}body.transition-active:before{z-index:2}.be-fe-confirm-hidden{display:none}.be-fe-confirm-wrapper{display:inline-block;position:relative}.be-fe-confirm-win{position:absolute;-webkit-transform:translateX(-50%);transform:translateX(-50%);white-space:nowrap;background:#fff;box-shadow:0 3px 10px rgba(0,0,0,.5);border-radius:2px;border:1px solid #999;z-index:10;-webkit-transform:translateX(-50%) scale(.5);transform:translateX(-50%) scale(.5);left:50%;top:50%;margin-top:-17.58px;padding:.66em 1em;color:#999;visibility:hidden;opacity:0;-webkit-transition:all .1s;transition:all .1s}.be-fe-confirm-wrapper--show .be-fe-confirm-win{visibility:visible;opacity:1;-webkit-transform:translateX(-50%) scale(1);transform:translateX(-50%) scale(1);-webkit-transition:all .1s;transition:all .1s}.be-fe-group-admin{position:relative}.be-fe-group-admin--crown{position:absolute;top:-11px;right:17px;width:24px;height:24px;background:url(https://cdn.rawgit.com/davidmz/BetterFeed/v1.23.0/images/emoji/basic/crown.png) no-repeat;background-size:100%;-webkit-transform:rotate(45deg);transform:rotate(45deg)}',""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(o[r]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&o[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(e,t,n){function o(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=l[o.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](o.parts[r]);for(;r<o.parts.length;r++)i.parts.push(a(o.parts[r],t))}else{for(var s=[],r=0;r<o.parts.length;r++)s.push(a(o.parts[r],t));l[o.id]={id:o.id,refs:1,parts:s}}}}function i(e){for(var t=[],n={},o=0;o<e.length;o++){var i=e[o],r=i[0],s=i[1],a=i[2],c=i[3],d={css:s,media:a,sourceMap:c};n[r]?n[r].parts.push(d):t.push(n[r]={id:r,parts:[d]})}return t}function r(){var e=document.createElement("style"),t=p();return e.type="text/css",t.appendChild(e),e}function s(){var e=document.createElement("link"),t=p();return e.rel="stylesheet",t.appendChild(e),e}function a(e,t){var n,o,i;if(t.singleton){var a=b++;n=h||(h=r()),o=c.bind(null,n,a,!1),i=c.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(),o=f.bind(null,n),i=function(){n.parentNode.removeChild(n),n.href&&URL.revokeObjectURL(n.href)}):(n=r(),o=d.bind(null,n),i=function(){n.parentNode.removeChild(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}function c(e,t,n,o){var i=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=g(t,i);else{var r=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}function d(e,t){var n=t.css,o=t.media;t.sourceMap;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function f(e,t){var n=t.css,o=(t.media,t.sourceMap);o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([n],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(i),r&&URL.revokeObjectURL(r)}var l={},u=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},m=u(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),p=u(function(){return document.head||document.getElementsByTagName("head")[0]}),h=null,b=0;e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=m());var n=i(e);return o(n,t),function(e){for(var r=[],s=0;s<n.length;s++){var a=n[s],c=l[a.id];c.refs--,r.push(c)}if(e){var d=i(e);o(d,t)}for(var s=0;s<r.length;s++){var c=r[s];if(0===c.refs){for(var f=0;f<c.parts.length;f++)c.parts[f]();delete l[c.id]}}}};var g=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";var o=n(6),i=function(e){var t=["fix-names","lightboxed-images","bottom-comment-link","colored-comment-icons","at-links","comment-icons-click","animated-gif","where-this-post-from","userpics-in-comments","embed-ly","hide-aliens","hide","user-info","comment-counters","new-lines","fold-texts","direct-style","emoji","not-you","confirm-delete","show-group-admins"],n=["not-you"];e=e||{};var o={};return t.forEach(function(t){o[t]=t in e?e[t]:-1===n.indexOf(t)}),o},r={init:function(){},loadSettings:function(){return new Promise(function(e){setTimeout(function(){e(i())},0)})},saveSettings:function(e){return new Promise(function(e){setTimeout(e,0)})}},s={init:function(){var e=this;window.addEventListener("message",function(t){if("object"==typeof t.data&&"action"in t.data){var n;if("getSettings"===t.data.action&&e.loadSettings().then(function(e){t.source.postMessage(e,t.origin)}),"saveSettings"===t.data.action&&e.saveSettings(t.data.value),"getBanList"===t.data.action&&(n=new o(t.data.value),t.source.postMessage(n.get(),t.origin)),"saveBanList"===t.data.action&&(n=new o(t.data.value[0]),n.set(t.data.value[1])),"checkUpdates"===t.data.action){var i=Date.now(),r=localStorage["be-fe-version"];localStorage["be-fe-next-update"]=i+36e5;var s=new XMLHttpRequest;s.open("GET","https://api.github.com/repos/davidmz/BetterFeed/tags?page=1&&per_page=1"),s.responseType="json",s.onload=function(){try{var e=this.response;if(1==e.length&&"name"in e[0]){var t=e[0].name;localStorage["be-fe-version"]=t,localStorage["be-fe-next-update"]=i+864e5,t!=r?alert("Доступна новая версия: "+t+". Она будет установлена после перезагрузки страницы."):alert("У вас установлена последняя версия")}}catch(n){}},s.send()}}})},loadSettings:function(){return new Promise(function(e){var t;try{t=i(JSON.parse(localStorage["ffc-sac-settings"]))}catch(n){t=i()}e(t)})},saveSettings:function(e){return localStorage["ffc-sac-settings"]=JSON.stringify(e),new Promise(function(e){setTimeout(e,0)})}},a={init:function(){var e=this;this.loadResolver=null,this.parentOrigin="https://freefeed.net",window.addEventListener("message",function(t){t.origin===e.parentOrigin&&null!==e.loadResolver&&(e.loadResolver(i(t.data)),e.loadResolver=null)})},loadSettings:function(){var e=this;return new Promise(function(t){e.loadResolver=t,window.parent.postMessage({action:"getSettings",value:null},e.parentOrigin)})},saveSettings:function(e){var t=this;return new Promise(function(n){window.parent.postMessage({action:"saveSettings",value:e},t.parentOrigin),setTimeout(n,0)})}};"freefeed.net"===location.hostname||"micropeppa.freefeed.net"===location.hostname?e.exports=s:window.parent?e.exports=a:e.exports=r},function(e,t,n){"use strict";var o=n(7),i=function(e){this.name=e};i.prototype.get=function(){var e;try{e=JSON.parse(localStorage[this.name])}catch(t){e=[]}return o(e)||(e=[]),e},i.prototype.set=function(e){localStorage[this.name]=JSON.stringify(e)},i.prototype.add=function(e){var t=this.get();-1===t.indexOf(e)&&t.push(e),this.set(t)},i.prototype.remove=function(e){var t=this.get(),n=t.indexOf(e);-1!==n&&t.splice(n,1),this.set(t)},i.prototype.contains=function(e){return-1!==this.get().indexOf(e)},e.exports=i},function(e,t){"use strict";e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function o(){var e=r+"/src/options/options.html?origin="+encodeURIComponent(location.origin);return/iPhone|iPad/.test(navigator.userAgent)?void window.open(e,"_blank"):(document.body.appendChild(c),a.innerHTML="",a.appendChild(i("iframe.light-box-iframe",{src:e,frameborder:"0"})),void c.classList.remove("hidden"))}var i=n(9),r=n(10),s=n(11);n(12);var a=i(".light-box-container.be-fe-settingsLB"),c=i(".frf-co-light-box.hidden",i(".light-box-shadow",a)),d=localStorage["be-fe-version"];setInterval(function(){var e=document.querySelector(".be-fe-settingsLink");e&&(localStorage["be-fe-version"]===d?e.classList.remove("be-fe-have-upgrade"):e.classList.add("be-fe-have-upgrade"))},2e3),c.addEventListener("click",function(){a.innerHTML="",c.classList.add("hidden")}),e.exports=function(e){if(d){e=e||document.body;var t=e.querySelector(".p-settings-betterfeed-header");if(t){var n=t.parentNode;if(!n.querySelector(".be-fe-settings-in-settings")){var r=i("a.be-fe-settings-in-settings","configure settings");n.insertBefore(i("p.bg-success",{style:"padding: 1em"},"BetterFeed enabled ("+d+") | ",r),s(n,":scope > p")[1]),r.addEventListener("click",function(){return o()})}}var a=e.querySelector(".sidebar");if(a&&!a.querySelector(".be-fe-settingsLink")){var c;a.appendChild(i(".box.be-fe-settingsLink",i(".box-header-groups","Add-ons"),i(".box-body",i("ul",i("li",c=i("a","BetterFeed settings"),i("div",{style:"font-size: 11px"},d,i("i.fa.fa-arrow-circle-up",{title:"Доступно обновление, перезагрузите страницу"}))))))),c.addEventListener("click",function(){return o()})}}}},function(e,t,n){"use strict";function o(e,t){t instanceof Node?e.appendChild(t):i(t)?t.forEach(o.bind(null,e)):"string"==typeof t&&e.appendChild(document.createTextNode(t))}var i=n(7);e.exports=function(e,t,n){var r,s,a=e.split("."),c=a.shift()||"div",d=document.createElement(c);a.length>0&&(d.className=a.join(" "));var f=1;if(arguments.length>1&&"object"==typeof t&&!(t instanceof Node)&&!i(t)){for(s in t)t.hasOwnProperty(s)&&d.setAttribute(s,t[s]);f=2}if(arguments.length>f)for(r=f;r<arguments.length;r++)o(d,arguments[r]);return d}},function(e,t){"use strict";var n="https://cdn.rawgit.com/davidmz/BetterFeed/"+localStorage["be-fe-version"];if(document.currentScript){var o=document.currentScript.src.split("/");n=o.slice(0,o.length-2).join("/")}e.exports=n},function(e,t){"use strict";e.exports=function(e,t,n){if(null===e)return[];var o=e.querySelectorAll(t),i=o?Array.prototype.slice.call(o):[];if(e.matches(t)&&i.unshift(e),n)for(var r=0,s=i.length;s>r;r++)n(i[r]);return i}},function(e,t,n){var o=n(13);"string"==typeof o&&(o=[[e.id,o,""]]);n(4)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(3)(),t.push([e.id,'.frf-co-light-box.hidden{display:none}.light-box-arrow{position:absolute;left:0;top:50%;margin-top:-60px;width:90px;height:90pt;color:#fff;cursor:pointer}.light-box-arrow:hover{background:hsla(0,0%,100%,.1)}.light-box-arrow:before{content:"";position:absolute;left:20px;top:50%;margin-top:-15px;width:30px;height:30px;border-top:5px solid;border-right:5px solid;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.light-box-arrow.left:before{left:auto;right:20px;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}.light-box-arrow.right{left:auto;right:0}.frf-co-light-box.first .light-box-arrow.left,.frf-co-light-box.last .light-box-arrow.right{display:none}.light-box-shadow{position:fixed;top:0;left:0;width:100%;height:100%;z-index:100;cursor:zoom-out;background:rgba(0,0,0,.4)}.light-box-container,.light-box-shadow{display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center}.light-box-container{width:90%;height:90%;-webkit-overflow-scrolling:touch}.light-box-img{border:1px solid #000;box-shadow:1px 1px 10px rgba(0,0,0,.5);max-width:100%;max-height:100%;margin:auto;background-color:#fff;cursor:pointer;image-orientation:from-image}.light-box-iframe{background:#fff;width:100%;height:100%}.light-box-thumbnail{cursor:zoom-in!important}',""])},function(e,t,n){"use strict";var o=n(11),i=n(15),r=n(16),s=null;e.exports=function(e){if(e=e||document.body,!s){var t=e.querySelector(".logged-user .author a");t&&(s=t.getAttribute("href").substr(1))}o(e,".comment:not(.be-fe-comment-from)",function(e){var t=i(e,".post-body");if(t){var n=t.querySelector(".title a").getAttribute("href").substr(1),o=e.querySelector(".author a");if(o){var s=o.getAttribute("href").substr(1);r.ready.then(function(t){var n=t.whoIs(s);n&r.ME?e.classList.add("be-fe-comment-from-me"):n&r.FRIEND?e.classList.add("be-fe-comment-from-friend"):n&r.READER&&e.classList.add("be-fe-comment-from-reader")}),s==n&&e.classList.add("be-fe-comment-from-post-author"),e.classList.add("be-fe-comment-from"),e.classList.add("be-fe-comment-from-u-"+s),e.dataset.author=s}}})}},function(e,t){"use strict";var n=function(e,t){for(var n=arguments,o=!0;o;){var i=e,r=t;s=a=void 0,o=!1;var s=void 0===n[2]?!1:n[2],a=s?i:i.parentNode;if(!a||a.nodeType!=Node.ELEMENT_NODE)return null;if(a.matches(r))return a;n=[e=a,t=r],o=!0}};e.exports=n},function(e,t,n){"use strict";function o(){this.me=null,this.myID=null,this.myScreenName=null,this.friends=[],this.readers=[],this.banIds=[]}var i=n(17),r=n(18);o.ME=1,o.FRIEND=2,o.READER=4,o.prototype.whoIs=function(e){var t=0;return e===this.me&&(t|=o.ME),-1!==this.friends.indexOf(e)&&(t|=o.FRIEND),-1!==this.readers.indexOf(e)&&(t|=o.READER),t},o.prototype.isBanned=function(e){return-1!==this.banIds.indexOf(e)},o.prototype.subscribed=function(e){-1===this.friends.indexOf(e)&&this.friends.push(e)},o.prototype.unsubscribed=function(e){var t=this.friends.indexOf(e);-1!==t&&this.friends.splice(t,1)},o.prototype.blocked=function(e){-1===this.banIds.indexOf(e)&&this.banIds.push(e)},o.prototype.unblocked=function(e){var t=this.banIds.indexOf(e);-1!==t&&this.banIds.splice(t,1)},o.ready=i.get("/v1/users/whoami").then(function(e){var t=new o;return t.me=e.users.username,t.myID=e.users.id,t.myScreenName=e.users.screenName,r.setPic(e.users.username,e.users.profilePictureMediumUrl),t.friends=e.subscribers.map(function(e){return r.setPic(e.username,e.profilePictureMediumUrl),e.username}),t.banIds=e.users.banIds,i.get("/v1/users/"+t.me+"/subscribers").then(function(e){return t.readers=e.subscribers.map(function(e){return r.setPic(e.username,e.profilePictureMediumUrl),e.username}),t})}),e.exports=o},function(e,t){"use strict";function n(e){return new Promise(function(t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="json",o.setRequestHeader("X-Authentication-Token",localStorage.authToken),o.onload=function(){o.response&&"err"in o.response?n(o.response.err):t(o.response)},o.send()})}function o(e,t){return new Promise(function(n,o){var i=new XMLHttpRequest;i.open("PUT",e),i.responseType="json",i.setRequestHeader("X-Authentication-Token",localStorage.authToken),i.onload=function(){i.response&&"err"in i.response?o(i.response.err):n(i.response)},i.send(t)})}function i(e,t){return new Promise(function(n,o){var i=new XMLHttpRequest;i.open("POST",e),i.responseType="json",i.setRequestHeader("X-Authentication-Token",localStorage.authToken),i.onload=function(){i.response&&"err"in i.response?o(i.response.err):n(i.response)},i.send(t)})}e.exports={get:n,put:o,post:i}},function(e,t,n){"use strict";function o(e){return i.get("/v1/users/"+e).then(function(e){var t=e.users.profilePictureMediumUrl;return t&&""!==t?t:s})}var i=n(17),r=n(19),s="https://freefeed.net/img/default-userpic-48.png",a={};e.exports={getPic:function(e){return e in a||(a[e]=o(e)),a[e]},setPic:function(e,t){a[e]=r.resolve(t&&""!==t?t:s)}}},function(e,t){"use strict";function n(e){var t=e.length,n=new Array(e.length);return new Promise(function(o,i){e.forEach(function(e,r){e.then(function(e){n[r]=e,t--,0===t&&o(n)},function(e){i(e)})})})}function o(e){return new Promise(function(t,n){t(e)})}e.exports={all:n,resolve:o}},function(e,t,n){function o(e){return n(i(e))}function i(e){return r[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var r={"./animated-gif":21,"./animated-gif.js":21,"./at-links":22,"./at-links.js":22,"./block-list":23,"./block-list.js":23,"./bottom-comment-link":24,"./bottom-comment-link.js":24,"./colored-comment-icons":25,"./colored-comment-icons.js":25,"./comment-counters":28,"./comment-counters.js":28,"./comment-icons-click":31,"./comment-icons-click.js":31,"./comments-common":14,"./comments-common.js":14,"./confirm-delete":32,"./confirm-delete.js":32,"./direct-style":33,"./direct-style.js":33,"./embed-ly":36,"./embed-ly.js":36,"./emoji":37,"./emoji.js":37,"./fix-names":41,"./fix-names.js":41,"./fold-texts":42,"./fold-texts.js":42,"./hide":43,"./hide-aliens":46,"./hide-aliens.js":46,"./hide.js":43,"./lightboxed-images":47,"./lightboxed-images.js":47,"./new-lines":49,"./new-lines.js":49,"./not-you":52,"./not-you.js":52,"./settings-link":8,"./settings-link.js":8,"./show-group-admins":53,"./show-group-admins.js":53,"./user-info":54,"./user-info.js":54,"./userpics-in-comments":55,"./userpics-in-comments.js":55,"./where-this-post-from":60,"./where-this-post-from.js":60};o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=20},function(e,t,n){"use strict";function o(e){if(!e.src.match(/^data:/)){var t=document.createElement("canvas"),n=t.width=e.width,o=t.height=e.height;t.getContext("2d").drawImage(e,0,0,n,o),e.src=t.toDataURL()}}function i(e){return new Promise(function(t,n){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.addEventListener("load",function(){var e,i,r=new Uint8Array(o.response),s=r.length,a=0;if(71!==r[0]||73!==r[1]||70!==r[2]||56!==r[3])return void n();for(e=0,i=s-9;i>e&&2>a;e++)0!==r[e]||33!==r[e+1]||249!==r[e+2]||4!==r[e+3]||0!==r[e+8]||44!==r[e+9]&&33!==r[e+9]||a++;(a>1?t:n)()}),o.send()})}var r=n(11);e.exports=function(e){e=e||document.body,r(e,"img.p-attachment-thumbnail[src$='.gif'][src*='/attachments/']:not(.be-fe-gif)",function(e){e.classList.add("be-fe-gif"),i(e.src).then(function(){e.parentNode.classList.add("be-fe-gif-ani"),e.complete?o(e):e.addEventListener("load",o.bind(null,e))},function(){})})}},function(e,t,n){"use strict";var o=n(11),i=n(9),r=n(15);e.exports=function(e){e=e||document.body,o(e,".comment-text, .post-body > .body > .text",function(e){for(var t=e.firstChild;t;){if(t.nodeType==Node.TEXT_NODE&&/\B@([a-z0-9_]+)/.test(t.nodeValue)){for(var n,o=/\B@([a-z0-9_]+)/g,r=t.nodeValue,s=document.createDocumentFragment(),c=0;null!==(n=o.exec(r));){var d=n[0],f=n[1],l=n.index;s.appendChild(document.createTextNode(r.substr(c,l-c))),c=l+d.length;var u=s.appendChild(i("a.be-fe-at-link",{href:"/"+f},d));a(u,".be-fe-comment-from-u-"+f)}var m=s.appendChild(document.createTextNode(r.substr(c)));e.insertBefore(s,t),e.removeChild(t),t=m}t=t.nextSibling}}),o(e,".comment-text",function(e){for(var t=e.firstChild;t;){if(t.nodeType==Node.TEXT_NODE&&/[↑^]/.test(t.nodeValue)){for(var n,o=/↑+|\^+W?/g,c=t.nodeValue,d=document.createDocumentFragment(),f=0;null!==(n=o.exec(c));){var l=n[0],u=n.index;if("^W"!==l){d.appendChild(document.createTextNode(c.substr(f,u-f))),f=u+l.length;var m=d.appendChild(i("span.be-fe-ups",l)),p=s(r(e,".ember-view"),l.length);p&&a(m,"#"+p.id)}}var h=d.appendChild(document.createTextNode(c.substr(f)));e.insertBefore(d,t),e.removeChild(t),t=h}t=t.nextSibling}})};var s=function(e,t){for(var n=null;;){var o;if(e=e.previousElementSibling,!e)break;if(e.classList.contains("more-comments"))o=parseInt(e.textContent),isNaN(o)||(t-=o);else if(e.classList.contains("more-coments-wrapper"))o=parseInt(e.firstElementChild.textContent),isNaN(o)||(t-=o);else if(e.classList.contains("ember-view")&&(t--,0==t)){n=e;break}}return n},a=function(e,t){e.dataset.hlSelector||(e.dataset.hlSelector=t,e.addEventListener("mouseover",c),e.addEventListener("mouseout",d))},c=function(e){var t;(t=e.target.dataset.hlSelector)&&o(r(e.target,".comments"),t,function(e){e.classList.add("be-fe-comment-hl")})},d=function(e){o(r(e.target,".comments"),".be-fe-comment-hl",function(e){e.classList.remove("be-fe-comment-hl")})}},function(e,t,n){"use strict";var o=(n(11),n(9)),i=n(16);e.exports=function(e){e=e||document.body;var t=e.querySelector(".sidebar a[href$='/subscriptions']");t&&(t.innerHTML="Browse/edit friends and others",i.ready.then(function(t){if(0!==t.banIds.length&&location.pathname==="/"+t.me+"/subscriptions"){var n=e.querySelector(".content .box-body");n&&!n.querySelector(".be-fe-ban-list")&&n.appendChild(o("h3","Blocked users"))}}))}},function(e,t,n){"use strict";var o=n(11),i=n(9),r=n(15);e.exports=function(e){e=e||document.body,o(e,".p-timeline-post-comment-action:not(.be-fe-copied)",function(e){e.classList.add("be-fe-copied");var t=r(e,".post-body");if(t&&!t.querySelector(".add-comment-block")){var n={"data-ember-action":e.getAttribute("data-ember-action")},o=i(".add-comment-block.be-fe-add-comment-block",i("a.fa-stack.fa-1x",n,i("i.fa.fa-comment-o fa-stack-1x"),i("i.fa.fa-square.fa-inverse.fa-stack-1x"),i("i.fa.fa-plus.fa-stack-1x")),i("a.add-comment-link",n,"Add comment"));t.querySelector(".comments").appendChild(o)}})}},function(e,t,n){"use strict";n(26);var o=n(11),i=n(9);e.exports=function(e){e=e||document.body,o(e,".comment .date:not(.be-fe-iconized)",function(e){e.classList.add("be-fe-iconized"),e.appendChild(i("i.fa.fa-comment.icon.be-fe-ico-bg"))})}},function(e,t,n){var o=n(27);"string"==typeof o&&(o=[[e.id,o,""]]);n(4)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(3)(),t.push([e.id,".date.be-fe-iconized{position:relative}.date.be-fe-iconized .icon{position:absolute;top:0;left:0;z-index:1}.date.be-fe-iconized .icon.be-fe-ico-bg{z-index:0}.be-fe-ico-bg{color:#fff}.be-fe-comment-from-reader .be-fe-ico-bg{color:#ededed}.be-fe-comment-from-friend .be-fe-ico-bg{color:#cef4fc}.be-fe-comment-from-post-author .be-fe-ico-bg{color:#b5b5b5}.be-fe-comment-from-me .be-fe-ico-bg{color:#ffd061}.add-comment-block{clear:left;margin-top:8px}",""])},function(e,t,n){"use strict";var o=n(11);n(29),e.exports=function(e){e=e||document.body,o(e,".more-comments",function(e){var t=parseInt(e.textContent);isNaN(t)||(e.style.counterIncrement="comments "+t)})}},function(e,t,n){var o=n(30);"string"==typeof o&&(o=[[e.id,o,""]]);n(4)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(3)(),t.push([e.id,'.comments{counter-reset:comments}.comments .comment{counter-increment:comments 1}.comments .comment:before{content:counter(comments) ".";position:absolute;left:-38px;top:0;width:2pc;text-align:right;color:#666;visibility:hidden;opacity:0;transition:opacity .3s,visibility 0s .3s}.comments .comment:hover:before{visibility:visible;opacity:1;transition:opacity .3s,visibility 0s}',""])},function(e,t,n){"use strict";var o=n(15);e.exports=function(e){void 0===e&&document.body.addEventListener("click",i,!1)};var i=function(e){if((e.target.matches(".comment .date")||e.target.parentNode&&e.target.parentNode.matches(".comment .date"))&&0==e.button){e.preventDefault();var t=null;if(e.metaKey||e.ctrlKey){var n,i=o(e.target,".ember-view"),r=1;for(i=i.nextElementSibling;i;)i.classList.contains("ember-view")?r++:i.classList.contains("more-comments")?(n=parseInt(i.textContent),isNaN(n)||(r+=n)):i.classList.contains("more-coments-wrapper")&&(n=parseInt(i.firstElementChild.textContent),isNaN(n)||(r+=n)),i=i.nextElementSibling;t=new Array(r+1).join("^")}var s=o(e.target,".comment").dataset.author,a=o(e.target,".post-body"),c=a.querySelector("textarea");if(!c){var d=a.querySelector(".p-timeline-post-comment-action");d&&(d.click(),c=a.querySelector("textarea"))}c&&(t?c.value+=t+" "+(e.shiftKey?"this":""):s&&(c.value+="@"+s+" "),c.focus(),c.selectionStart=c.selectionEnd=c.value.length,$(c).change())}}},function(e,t,n){"use strict";var o=n(11),i=n(9);e.exports=function(e){e=e||document.body,o(e,".p-comment-delete, .p-post-destroy, .p-timeline-post-destroy-action",function(e){if(!e.classList.contains("be-fe-confirm-hidden")){e.classList.add("be-fe-confirm-hidden");var t=null,n=i("a",e.innerHTML),o=i("a","Yes, delete!"),r=i("a","Cancel"),s=i("span.be-fe-confirm-wrapper",n,i(".be-fe-confirm-win",o," • ",r));e.parentNode.insertBefore(s,e),n.addEventListener("click",function(){s.classList.add("be-fe-confirm-wrapper--show"),t=window.setTimeout(function(){s.classList.remove("be-fe-confirm-wrapper--show"),t=null},5e3)}),r.addEventListener("click",function(){s.classList.remove("be-fe-confirm-wrapper--show"),window.clearTimeout(t)}),o.addEventListener("click",function(){window.clearTimeout(t),$(e).click()})}})}},function(e,t,n){"use strict";var o=n(11);n(34),e.exports=function(e,t){e=e||document.body,o(e,".direct-post > .title",function(e){var n=o(e,".post-addressee");if(0!=n.length){for(var i,r=e.querySelector(".post-author").getAttribute("href"),s=n[0],a=s.parentNode;s;)i=s.nextSibling,a.removeChild(s),s=i;n.filter(function(e){return!e.classList.contains("post-addressee-direct")||e.getAttribute("href")!=r}).forEach(function(e,n,o){n>0&&a.appendChild(document.createTextNode(n===o.length-1?" and ":", ")),a.appendChild(e),t["fix-names"]&&e.getAttribute("href")===r&&a.appendChild(document.createTextNode("’"+("s"!==r.substr(-1)?"s":"")+" feed"))})}})}},function(e,t,n){var o=n(35);"string"==typeof o&&(o=[[e.id,o,""]]);n(4)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(3)(),t.push([e.id,".timeline-post-container.direct-post{background-color:#eee;background-image:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='36' height='36' viewBox='0 0 48 48'><path fill='%23ffffff' d='M40 8H8c-2.21 0-3.98 1.79-3.98 4L4 36c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 8L24 26 8 16v-4l16 10 16-10v4z'/></svg>\");background-repeat:no-repeat;background-position:top right;background-position:top .5em right .5em;padding-left:1em;padding-right:1em;border-bottom:1px solid #fff;margin:-1px -1em 5px;border-radius:5px}.timeline-post-container.direct-post .be-fe-folded-text-para:after{background:linear-gradient(to bottom,hsla(0,0%,93%,0),hsla(0,0%,93%,.007))}.timeline-post-container.direct-post .be-fe-folded-text-read-more{background:linear-gradient(to right,hsla(0,0%,93%,0),#eee 3.5em)}.timeline-post-container.direct-post .be-fe-folded-text:after{background:linear-gradient(to bottom,hsla(0,0%,93%,0),hsla(0,0%,93%,.007))}.timeline-post-container.direct-post .fa-inverse{color:#eee}.single-post-container.direct-post{background:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='36' height='36' viewBox='0 0 48 48'><path fill='%23eeeeee' d='M40 8H8c-2.21 0-3.98 1.79-3.98 4L4 36c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 8L24 26 8 16v-4l16 10 16-10v4z'/></svg>\") no-repeat top right}.post-addressee-direct{padding-left:13px;background:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 48 48'><path fill='%23666666' d='M24 24c4.42 0 8-3.59 8-8 0-4.42-3.58-8-8-8s-8 3.58-8 8c0 4.41 3.58 8 8 8zm0 4c-5.33 0-16 2.67-16 8v4h32v-4c0-5.33-10.67-8-16-8z'/></svg>\") no-repeat left center;white-space:nowrap}",""]);
},function(e,t,n){"use strict";var o=n(11),i=n(9);e.exports=function(e,t){e||(!function(e,t){var n="embedly-platform",o="script";if(!t.getElementById(n)){e.embedly=e.embedly||function(){(e.embedly.q=e.embedly.q||[]).push(arguments)};var i=t.createElement(o);i.id=n,i.async=1,i.src="https://cdn.embedly.com/widgets/platform.js";var r=t.getElementsByTagName(o)[0];r.parentNode.insertBefore(i,r)}}(window,document),embedly("on","card.rendered",function(e){e.style.margin="10px 0"})),e=e||document.body,o(e,".post-body",function(e){e.querySelector(":scope > .attachments")||o(e,".text a").some(function(t){if(!/^https?:\/\//.test(t.getAttribute("href")))return!1;var n=e.querySelector(":scope > .body").nextSibling,o=t.href,r=i("a.embedly-card",{href:t.href,"data-card-width":"60%"});if(0===o.indexOf("https://docs.google.com/document/d/")||0===o.indexOf("https://docs.google.com/spreadsheets/d/")||0===o.indexOf("https://docs.google.com/presentation/d/")){var s=/\/d\/([^\/]+)/.exec(o)[1],a=i("img.be-fe-gdoc");a.onerror=function(){a.style.display="none"},a.src="https://drive.google.com/thumbnail?id="+s+"&sz=w590-h354-p-k-nu",r=i("a",{href:o,target:"_blank"},a)}return e.insertBefore(i(".be-fe-embeds",r),n),!0})})}},function(e,t,n){"use strict";function o(e){if(e){if(e.nodeType==Node.ELEMENT_NODE){var t,n;for(t=e.firstChild;t;)n=t.nextSibling,e.classList.contains("author")||o(t),t=n}var c=/:([+-]1|e-mail|non-potable_water|ничоси|[a-z0-9_]+):|((?:[\uD800-\uDBFF][\uDC00-\uDFFF])+)|([\u2702-\u27B0\u24C2\u2139\u2300-\u32FF])|(.[\u20E3])/g;if(e.nodeType==Node.TEXT_NODE&&c.test(e.nodeValue)){c.lastIndex=0;for(var d,f=e.nodeValue,l=0,u=document.createDocumentFragment();null!==(d=c.exec(f));){d.index!=l&&u.appendChild(document.createTextNode(f.substr(l,d.index-l)));var m,p,h;if(void 0!==d[1])h=u.appendChild(document.createTextNode(d[0])),s(h,d[1],d[0],!1);else if(void 0!==d[2]){var b,g,v=d[2],x=i(v);for(m=0;m<x.length;m++)r(x[m])&&m<x.length-1&&r(x[m+1])?(b=v.substr(2*m,4),g=a(x[m])+"-"+a(x[m+1]),m++):(b=v.substr(2*m,2),g=a(x[m])),h=u.appendChild(document.createTextNode(b)),s(h,g,b,!0)}else void 0!==d[3]?(h=u.appendChild(document.createTextNode(d[0])),p=d[3].charCodeAt(0),s(h,a(p),d[0],!0)):void 0!==d[4]&&(h=u.appendChild(document.createTextNode(d[0])),s(h,a(d[4].charCodeAt(0))+"-"+a(d[4].charCodeAt(1)),d[0],!0));l=d.index+d[0].length}f.length!=l&&u.appendChild(document.createTextNode(f.substr(l))),e.parentNode.insertBefore(u,e),e.parentNode.removeChild(e)}}}function i(e){var t,n=[];for(t=0;t<e.length;t+=2)n.push(1024*(e.charCodeAt(t)-55296)+(e.charCodeAt(t+1)-56320)+65536);return n}function r(e){return e>=127462&&127487>=e}function s(e,t,n,o){var i=t in h?h[t]:t,r=-1!==p.indexOf(i)?m:u;o&&(r+="/unicode");var s=f("img.be-fe-emo",{src:r+"/"+i+".png",alt:n});o||(s.title=":"+t+":"),d(s).then(function(){e.parentNode.insertBefore(f("span.be-fe-emo-wrap",s),e),e.parentNode.removeChild(e)})}function a(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t.toUpperCase()}var c=n(11),d=n(38),f=n(9),l=n(10);n(39);var u=l+"/images/emoji/basic",m=l+"/images/emoji/custom",p=["neechowsee"],h={"ничоси":"neechowsee",skeleton:"skull",poo:"poop",flame:"fire",grandma:"older_woman"};e.exports=function(e){e=e||document.body,c(e,".comment-text, .post-body .text",function(e){o(e)})}},function(e,t){"use strict";e.exports=function(e){return new Promise(function(t,n){e&&(e.complete?setTimeout(t,0):e.addEventListener("load",t))})}},function(e,t,n){var o=n(40);"string"==typeof o&&(o=[[e.id,o,""]]);n(4)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(3)(),t.push([e.id,".be-fe-emo-wrap{position:relative;display:inline-block;vertical-align:top;width:1.3em}.timeline-post-container .post-body>.body .be-fe-emo-wrap{width:1.6em}.comments .be-fe-emo-wrap{width:1.5em}.be-fe-emo{position:absolute;top:0;left:50%;width:24px;height:24px;margin-left:-9pt;transition:transform .2s}.be-fe-emo:hover{transform:scale(2);transition:transform .2s .5s;z-index:1}.comments .be-fe-emo{width:18px;height:18px;margin-left:-9px;top:-1px}.timeline-post-container .post-body>.body .be-fe-emo{width:22px;height:22px;margin-left:-11px;top:-2px}",""])},function(e,t,n){"use strict";var o=n(11);e.exports=function(e,t){e=e||document.body,o(e,".post-body > .title a:not(.be-fe-nameFixed), .p-comment-body .author a:not(.be-fe-nameFixed), .p-timeline-user-like > a:not(.be-fe-nameFixed)",function(e){if(e.hasAttribute("href")){e.classList.add("be-fe-nameFixed");var n=e.getAttribute("href").substr(1),o=e.innerHTML;e.innerHTML=n,t["user-info"]||e.setAttribute("title",o)}}),o(e,".p-timeline-subscription-user, .p-timeline-sunsctiption-group, .p-user-subscriber",function(e){o(e,"a[href]:not(.be-fe-nameFixed)",function(e){e.classList.add("be-fe-nameFixed");for(var n=e.getAttribute("href").substr(1),o="",i=e.firstChild;i;){if(i.nodeType==Node.TEXT_NODE&&(o=i.nodeValue.replace(/^\s*|\s*$/,""),""!==o)){i.nodeValue=n;break}i=i.nextSibling}""===o||t["user-info"]||e.setAttribute("title",o)})})}},function(e,t,n){"use strict";var o=n(11),i=n(9),r=140,s=100;e.exports=function(e,t){e=e||document.body,t["new-lines"]?o(e,".p-timeline-post .comment-text, .p-timeline-post .body .text",function(e){if(!(e.offsetHeight<r)){var t=e.classList.contains("comment-text"),n=t?16:19;e.classList.add("be-fe-folded-text-nl");var a=null;o(e,":scope > p",function(t){if(!a&&t.offsetTop+t.offsetHeight>r){a=t,t.classList.add("be-fe-folded-text-para");var o,c=Math.floor(t.offsetHeight/n);for(o=1;c>=o&&!(t.offsetTop+o*n>s);o++);t.style.height=o*n+"px";var d=i("a","Read more…"),f=t.appendChild(i(".be-fe-folded-text-read-more",d));d.addEventListener("click",function(){e.classList.remove("be-fe-folded-text-nl"),a.style.height="auto"});var l=e.querySelector(".be-fe-comm-controls");l&&f.appendChild(l.cloneNode(!0))}else a&&t.classList.add("be-fe-folded-text-hidden")})}}):o(e,".p-timeline-post .comment-text, .p-timeline-post .body .text",function(e){if(!(e.offsetHeight<r)){var t=e.classList.contains("comment-text"),n=null;if(t){var o,s=e.nextSibling;for(n=e.appendChild(i("span.be-fe-comm-controls"));s;)o=s.nextSibling,n.appendChild(s),s=o}e.classList.add("be-fe-folded-text");var a=i("a","Read more…"),c=e.appendChild(i(".be-fe-folded-text-read-more",a));n&&c.appendChild(n.cloneNode(!0)),a.addEventListener("click",function(){e.classList.remove("be-fe-folded-text")})}})}},function(e,t,n){"use strict";var o=n(44),i=n(11);n(9);e.exports=function(e,t){t["where-this-post-from"]&&(e=e||document.body,o.commsBanList.get().forEach(function(t){i(e,".be-fe-comment-from-u-"+t+":not(.be-fe-comment-hidden)",function(e){e.classList.add("be-fe-comment-hidden")})}))}},function(e,t,n){"use strict";function o(e){u.add(e),l.insertRule(".be-fe-post-from-u-"+e+" { display: none; }",0)}function i(e){u.remove(e);var t=".be-fe-post-from-u-"+e;Array.prototype.slice.call(l.rules).some(function(e,n){return e.selectorText===t?(l.deleteRule(n),!0):!1})}function r(e){m.add(e),m.get().forEach(function(e){a(document.body,".be-fe-comment-from-u-"+e+":not(.be-fe-comment-hidden)",function(e){e.classList.add("be-fe-comment-hidden")})})}function s(e){m.remove(e),a(document.body,".be-fe-comment-from-u-"+e+".be-fe-comment-hidden",function(e){e.classList.remove("be-fe-comment-hidden")})}var a=n(11),c=n(6),d=n(9),f=n(45),l=null,u=new c("be-fe.banList"),m=new c("be-fe.banListComms");f.then(function(){l=document.head.appendChild(d("style.be-fe-banlist")).sheet,u.get().forEach(o)}),e.exports={postsBanList:u,commsBanList:m,hidePostsFrom:o,showPostsFrom:i,hideCommsFrom:r,showCommsFrom:s}},function(e,t){"use strict";e.exports=new Promise(function(e){"complete"===document.readyState||"interactive"===document.readyState?setTimeout(e,0):document.addEventListener("DOMContentLoaded",e)})},function(e,t,n){"use strict";var o=n(9);setInterval(function(){var e=!!localStorage["be-fe.hide-alien-posts"],t=document.body.querySelector(".be-fe-hide-aliens-switcher input"),n=document.body.querySelector(".posts"),o=document.body.querySelector(".be-fe-hide-aliens-counter");t&&t.checked!==e&&(t.checked=e),n&&n.classList.contains("be-fe-hide-aliens")!==e&&(e?n.classList.add("be-fe-hide-aliens"):n.classList.remove("be-fe-hide-aliens")),o&&n&&(o.innerHTML=n.querySelectorAll(".be-fe-post-from-alien").length)},500),e.exports=function(e,t){if(t["where-this-post-from"]&&"/"===location.pathname&&!document.body.querySelector(".be-fe-hide-aliens-switcher")){var n=null,i=document.body.querySelector(".box-header-timeline");i&&(i.appendChild(o(".be-fe-hide-aliens-switcher",o("label",n=o("input",{type:"checkbox"})," hide non-friends posts (",o("span.be-fe-hide-aliens-counter","0"),")"))),n.addEventListener("change",function(){localStorage["be-fe.hide-alien-posts"]=n.checked?"1":""}),n.checked=!!localStorage["be-fe.hide-alien-posts"])}}},function(e,t,n){"use strict";n(12);var o=n(48),i=n(11),r=n(15),s=new o;document.body.addEventListener("click",function(e){var t=r(e.target,".light-box-thumbnail",!0);if(t&&0==e.button){e.preventDefault();var n=[t],o=r(t,".attachments");o&&(n=i(o,".light-box-thumbnail")),s.show(n,t)}},!1),e.exports=function(e){e=e||document.body,i(e,".p-attachment-url:not(.light-box-thumbnail)",function(e){e.dataset.imageSrc?e.classList.add("light-box-thumbnail"):/\.(jpe?g|png|gif)/i.test(e.href)&&(e.dataset.imageSrc=e.href,e.classList.add("light-box-thumbnail"))})}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(9),s=n(15),a=function(){function e(){var t=this;o(this,e),this.image=r("img"),this.cache={},this.queue=[],this.image.addEventListener("load",function(){return t.moveQueue()}),this.image.addEventListener("error",function(){return t.moveQueue()}),this.moveQueue()}return i(e,[{key:"add",value:function(e){e in this.cache||(this.cache[e]=!0,this.queue.push(e))}},{key:"moveQueue",value:function(){var e=this,t=this.queue.pop();void 0!==t?this.image.src=t:setTimeout(function(){return e.moveQueue()},250)}}]),e}(),c=function(){function e(){var t=this;o(this,e),this.imageStab="https://cdnjs.cloudflare.com/ajax/libs/galleriffic/2.0.1/css/loader.gif",this.lightBoxImage=r("img.light-box-img",{src:this.imageStab}),this.lightBox=r(".frf-co-light-box.first.last.hidden",r(".light-box-shadow",r(".light-box-container",this.lightBoxImage),r(".light-box-arrow.left"),r(".light-box-arrow.right"))),this.cList=this.lightBox.classList,this.preloader=new a,this.hidden=!0,this.slides=[],this.index=0,document.body.appendChild(this.lightBox),document.body.addEventListener("keydown",function(e){t.hidden||(27==e.keyCode?t.hide():39==e.keyCode?(t.next(),e.preventDefault()):37==e.keyCode?(t.prev(),e.preventDefault()):36==e.keyCode?(t.first(),e.preventDefault()):35==e.keyCode&&(t.last(),e.preventDefault()))},!0),this.lightBox.addEventListener("click",function(e){var n;null!==(n=s(e.target,".light-box-arrow",!0))?(e.stopPropagation(),n.classList.contains("left")?t.prev():n.classList.contains("right")&&t.next()):s(e.target,".light-box-shadow",!0)&&t.hide()}),this.lightBoxImage.addEventListener("click",function(){window.open(t.slides[t.index].href,"_blank")})}return i(e,[{key:"isFirst",value:function(){return 0===this.index}},{key:"isLast",value:function(){return this.index===this.slides.length-1}},{key:"show",value:function(e,t){var n=this;this.slides=e,e.forEach(function(e,o){e===t?n.index=o:n.preloader.add(e.dataset.imageSrc)}),this.hidden=!1,this.cList.remove("hidden"),this._showCurrent()}},{key:"_showCurrent",value:function(){this.lightBoxImage.src=this.imageStab,this.lightBoxImage.src=this.slides[this.index].dataset.imageSrc,this.lightBoxImage.style.cssText="",this.isFirst()?this.cList.add("first"):this.cList.remove("first"),this.isLast()?this.cList.add("last"):this.cList.remove("last")}},{key:"hide",value:function(){this.hidden||(this.hidden=!0,this.cList.add("hidden"))}},{key:"next",value:function(){this.hidden||this.isLast()||(this.index++,this._showCurrent())}},{key:"prev",value:function(){this.hidden||this.isFirst()||(this.index--,this._showCurrent())}},{key:"first",value:function(){this.hidden||this.isFirst()||(this.index=0,this._showCurrent())}},{key:"last",value:function(){this.hidden||this.isLast()||(this.index=this.slides.length-1,this._showCurrent())}}]),e}();e.exports=c},function(e,t,n){"use strict";var o=n(11),i=n(9);n(50);var r=function(e,t,n){e&&e.nodeType==Node.TEXT_NODE&&(e.nodeValue=e.nodeValue.replace(t,n))};e.exports=function(e){void 0===e&&(document.addEventListener("keydown",function(e){if(13===e.keyCode&&"TEXTAREA"==e.target.tagName&&e.target.classList.contains("ember-text-area")&&e.shiftKey){var t=e.target,n=t.value,o=t.selectionStart;t.value=n.substr(0,o)+"\n"+n.substr(t.selectionEnd),t.setSelectionRange(o+1,o+1)}},!0),document.addEventListener("keyup",function(e){13===e.keyCode&&"TEXTAREA"==e.target.tagName&&e.target.classList.contains("ember-text-area")&&e.shiftKey&&e.stopPropagation()},!0)),e=e||document.body,o(e,".comment-text, .post-body .text",function(e){r(e.firstChild,/^\s+/,""),r(e.lastChild,/\s+$/,"");var t,n,o,s=document.createDocumentFragment(),a=s.appendChild(i("p"));for(n=e.firstChild;n;)t=n.nextSibling,n.nodeType===Node.TEXT_NODE&&/\n/.test(n.nodeValue)?(n.nodeValue.split(/\n{2,}/).forEach(function(e,t){t>0&&(a=s.appendChild(i("p"))),e.split(/\n/).forEach(function(e,t){t>0&&a.appendChild(i("br")),a.appendChild(document.createTextNode(e))})}),n.parentNode.removeChild(n)):a.appendChild(n),n=t;if(o=e.nextSibling,e.classList.contains("comment-text"))for(var c=a.appendChild(i("span.be-fe-comm-controls"));o;)t=o.nextSibling,c.appendChild(o),o=t;e.appendChild(s)})}},function(e,t,n){var o=n(51);"string"==typeof o&&(o=[[e.id,o,""]]);n(4)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(3)(),t.push([e.id,".comment .comment-text,.post-body .text{display:block}.comment .comment-text p,.post-body .text p{margin-bottom:.66em}.comment .comment-text p:last-of-type,.post-body .text p:last-of-type{margin-bottom:0}",""])},function(e,t,n){"use strict";function o(e){return e.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#x27;")}var i=n(11),r=n(16);e.exports=function(e,t){t["fix-names"]||(e=e||document.body,r.ready.then(function(t){i(e,"a[href='/"+t.me+"']",function(e){"You"===e.innerHTML&&(e.innerHTML=o(t.myScreenName))})}))}},function(e,t,n){"use strict";var o=(n(11),n(17)),i=n(19),r=n(9);e.exports=function(e){if(e=e||document.body,e.querySelector("h3.p-user-subscribers")){var t=location.pathname.split("/")[1];i.all([o.get("/v1/users/"+t),o.get("/v1/users/"+t+"/subscribers")]).then(function(e){var t=e[0].users,n=e[1];t.id&&"group"===t.type&&n.subscribers.filter(function(e){return-1!==t.administratorIds.indexOf(e.id)}).map(function(e){return e.username}).forEach(function(e){var t=document.querySelector('.p-user-subscriber a[href="/'+e+'"]:not(.be-fe-group-admin)');t&&(t.classList.add("be-fe-group-admin"),t.appendChild(r(".be-fe-group-admin--crown",{title:"Administrator"})))})})}}},function(e,t,n){"use strict";function o(e){var t;if("A"==e.nodeName)t=e;else{if("IMG"!=e.nodeName||"A"!=e.parentNode.nodeName)return null;t=e.parentNode}return t.hasAttribute("href")&&t.getAttribute("href").match(/^\/([a-z0-9]+)(-[a-z0-9]+)*$/)&&!u(t,"."+x)?t:null}function i(e){return!!u(e,"."+x,!0)}function r(e){var t=l("span.be-fe-userinfo-wrapper");e.parentNode.insertBefore(t,e),t.appendChild(e),s(e.getAttribute("href").substr(1),t)}function s(e,t,n){n=!!n,p.all([m.get("/v1/users/"+e),h.ready]).then(function(e){var o=e[0].users,i=e[1];if(o.id){o.profilePictureLargeUrl&&""!==o.profilePictureLargeUrl||(o.profilePictureLargeUrl=k);var r,s="user"===o.type,a=i.whoIs(o.username);r=a&h.ME?"You":a&h.FRIEND?s?"Your friend":"Group (you in)":a&h.READER?"Your reader":s?"Stranger":"Group",a&h.FRIEND&&a&h.READER&&(r="Your mutual friend"),s||-1===o.administratorIds.indexOf(i.myID)||(r="Your group");var c=[];if(!(a&h.ME)&&(s?c.push(l("span",l("a.a-subs",a&h.FRIEND?"Unsubscribe":"Subscribe"))):c.push(l("span",l("a.a-subs",a&h.FRIEND?"Leave group":"Join group"))),L&&s)){var d=b.postsBanList.contains(o.username),f=b.commsBanList.contains(o.username),u=i.isBanned(o.id);c.push(l("span",l("a.a-hide-posts",d?"Show posts":"Hide posts"))),c.push(l("span",l("a.a-hide-comms",f?"Show comms.":"Hide comms."))),c.push(l("span",l("a.a-block-user",u?"Unblock":"Block")))}var m=n?l(".be-fe-userinfo-alert",l("i.fa.fa-refresh")," Reload page to apply!"):null,p=l(".be-fe-userinfo-win",l("img.be-fe-userinfo-pic",{src:o.profilePictureLargeUrl}),l(".be-fe-userinfo-info",l(".be-fe-userinfo-screenName",l("a.be-fe-nameFixed",{href:"/"+o.username},o.screenName)),l(".be-fe-userinfo-userName",o.username),l(".be-fe-userinfo-relation",r)),l(".be-fe-userinfo-actions",{"data-user-id":o.id,"data-username":o.username,"data-subscribed":a&h.FRIEND?"1":"","data-posts-hidden":d?"1":"","data-comms-hidden":f?"1":"","data-user-blocked":u?"1":""},c),m),g=t.querySelector(".be-fe-userinfo-win");g&&g.parentNode.removeChild(g),t.appendChild(p)}})}function a(e){var t=u(e,"."+x,!0);if(t){var n=t.querySelector(":scope > a");t.parentNode.insertBefore(n,t),t.parentNode.removeChild(t),"webkitTransform"in document.body.style&&(document.body.style.webkitTransform="scale(1)",setTimeout(function(){document.body.style.webkitTransform=""},0))}}function c(e){if("A"===e.target.nodeName){var t=e.target,n=u(t,".be-fe-userinfo-actions");if(n){var o=u(n,"."+x),i=n.dataset.username,r=n.dataset.userId;t.classList.contains("a-subs")?n.dataset.subscribed?m.post("/v1/users/"+i+"/unsubscribe").then(function(){h.ready.then(function(e){return e.unsubscribed(i)}),s(i,o)}):m.post("/v1/users/"+i+"/subscribe").then(function(){h.ready.then(function(e){return e.subscribed(i)}),s(i,o)}):t.classList.contains("a-hide-posts")?(n.dataset.postsHidden?b.showPostsFrom(i):b.hidePostsFrom(i),s(i,o)):t.classList.contains("a-hide-comms")?(n.dataset.commsHidden?b.showCommsFrom(i):b.hideCommsFrom(i),s(i,o)):t.classList.contains("a-block-user")&&(n.dataset.userBlocked?m.post("/v1/users/"+i+"/unban").then(function(){h.ready.then(function(e){return e.unblocked(r)}),s(i,o,!0)}):m.post("/v1/users/"+i+"/ban").then(function(){h.ready.then(function(e){return e.blocked(r)}),s(i,o,!0)}),s(i,o))}}}function d(e){var t=o(e.target);t&&(y=setTimeout(r.bind(null,t),g)),i(e.target)&&clearTimeout(w)}function f(e){var t=o(e.target);t&&clearTimeout(y),i(e.target)&&(w=setTimeout(a.bind(null,e.target),v))}var l=(n(11),n(9)),u=n(15),m=n(17),p=n(19),h=n(16),b=n(44),g=1e3,v=500,x="be-fe-userinfo-wrapper",y=null,w=null,k="https://freefeed.net/img/default-userpic-75.png",L=!1;e.exports=function(e,t){e||(document.body.addEventListener("mouseover",d),document.body.addEventListener("mouseout",f),document.body.addEventListener("click",c),L=t.hide)}},function(e,t,n){"use strict";n(56);var o=n(11),i=n(18),r=null;e.exports=function(e,t){if(!e&&t["colored-comment-icons"]&&n(58),e=e||document.body,!r){var s=e.querySelector(".logged-user .author a");s&&(r=s.getAttribute("href").substr(1))}o(e,".comment a.date:not(.be-fe-with-pic)",function(e){e.classList.add("be-fe-with-pic");var t=e.parentNode,n=t.dataset.author;if(!n){if(!t.matches(".p-timeline-comment")||!r)return;n=r,t.classList.add("be-fe-comment-from-me"),t.classList.add("be-fe-comment-from")}var o=e.appendChild(new Image);o.className="be-fe-userpic",i.getPic(n).then(function(e){o.src=e})})}},function(e,t,n){var o=n(57);"string"==typeof o&&(o=[[e.id,o,""]]);n(4)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(3)(),t.push([e.id,".comments .comment a.date{display:inline-block;width:1pc;height:20px;transition:transform .2s}.comments .comment a.date:hover{transform:scale(2);transition:transform .2s 1s;z-index:1}a.date .icon{display:none}a.date .be-fe-userpic{width:1pc;height:1pc;border-radius:2px}.comments .comment{min-height:17px}",""])},function(e,t,n){var o=n(59);"string"==typeof o&&(o=[[e.id,o,""]]);n(4)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(3)(),t.push([e.id,"a.date{border-bottom:2px solid transparent}.be-fe-comment-from-reader a.date{border-bottom-color:#ccc}.be-fe-comment-from-friend a.date{border-bottom-color:#5cd4f0}.be-fe-comment-from-post-author a.date{border-bottom-color:#666}.be-fe-comment-from-me a.date{border-bottom-color:#ffb811}",""])},function(e,t,n){"use strict";var o=n(16),i=n(17),r=n(11),s=n(9);e.exports=function(e,t){if("/"===location.pathname){e=e||document.body;var n=!t["fix-names"];r(e,".timeline-post-container:not(.be-fe-where-from)",function(e){e.classList.add("be-fe-where-from");var t=e.querySelector(":scope > .avatar > a");if(t){var a=t.getAttribute("href").substr(1),c=e.querySelector("a.datetime").getAttribute("href").match(/^\/.+?\/([\w-]+)/);if(c){var d=c[1],f=[];r(e,".title a",function(e){var t=e.getAttribute("href").substr(1);t!==a&&f.push(t)}),e.classList.add("be-fe-post-from-u-"+a),e.dataset.postAuthor=a,o.ready.then(function(t){t.whoIs(a)&(o.ME|o.FRIEND)||f.some(function(e){return!!(t.whoIs(e)&o.FRIEND)})||(e.classList.add("be-fe-post-from-alien"),i.get("/v1/posts/"+d+"?maxLikes=all").then(function(i){var r={},a=i.users.map(function(e){return r[e.username]=n?e.screenName:e.username,e.username}).filter(function(e){return!!(t.whoIs(e)&(o.ME|o.FRIEND))}).filter(function(e,t,n){return n.indexOf(e)===t});if(a.length>0){var c=[];a.length<5?a.forEach(function(e,t){t>0&&(t==a.length-1?c.push(" and "):c.push(", ")),c.push(s("a.be-fe-nameFixed",{href:"/"+e},r[e]))}):(a.slice(0,3).forEach(function(e,t){t>0&&c.push(", "),c.push(s("a.be-fe-nameFixed",{href:"/"+e},r[e]))}),c.push(" and "+(a.length-3)+" other")),e.querySelector(".title > div").appendChild(s("span.be-fe-from-whom"," (via ",c,")"))}}))})}}})}}}]);