!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(){n(5);var e=new d["default"](s.userId),t=new f["default"];t.on("getSettings",function(){return e}),t.on("saveSettings",function(e){var t=new d["default"](void 0,e);t.save()}),t.on("checkUpdates",i);var o=[n(9),n(18),n(24)];u.flagNames.forEach(function(t){e.flag(t)&&o.push(n(25)("./"+t))});var r=new MutationObserver(function(t){t.forEach(function(t){var n,r,i;for(n=0,r=t.addedNodes.length;r>n;n++)i=t.addedNodes[n],i.nodeType==Node.ELEMENT_NODE&&o.forEach(a(i,e))})});o.forEach(a(void 0,e)),r.observe(document.body,{childList:!0,subtree:!0})}function a(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){return e.apply(void 0,t)}}function i(){var e=Date.now(),t=localStorage["be-fe-version"];localStorage["be-fe-next-update"]=e+36e5;var n=new XMLHttpRequest;n.open("GET","https://api.github.com/repos/davidmz/BetterFeed/tags?page=1&&per_page=1"),n.responseType="json",n.onload=function(){try{var n=this.response;if(1==n.length&&"name"in n[0]){var o=n[0].name;localStorage["be-fe-version"]=o,localStorage["be-fe-next-update"]=e+864e5,o!=t?alert("Доступна новая версия: "+o+". Она будет установлена после перезагрузки страницы."):alert("У вас установлена последняя версия ("+o+")")}}catch(r){}},n.send()}var s=n(1),u=n(2),d=o(u),l=n(4),f=o(l);/^\/(attachments|files)\//.test(location.pathname)||(MutationObserver&&Promise?null===s.userId?console.error("Can not start BetterFeed: user not logged in"):"__BetterFeed"in window?console.warn("BetterFeed already started"):(window.__BetterFeed={},r()):console.error("Can not start BetterFeed: MutationObserver & Promise not supported"))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=null;t.userId=n;var o=null;t.authToken=o;var r="freefeed_authToken";"micropeppa.freefeed.net"===location.hostname&&(r="micropeppa_authToken");var a=document.cookie.match(new RegExp("(?:^|;\\s*)"+r+"=([^;]*)")),i=a?a[1]:null;if(i){var s=i.split(".");if(3===s.length)try{var u=JSON.parse(atob(s[1]));"userId"in u&&(t.userId=n=u.userId,t.authToken=o=i)}catch(d){}}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){try{return JSON.parse(e)}catch(n){return t}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(3),s="bfSettings",u=["fix-names","lightboxed-images","bottom-comment-link","colored-comment-icons","at-links","comment-icons-click","animated-gif","where-this-post-from","userpics-in-comments","embed-ly","hide-aliens","hide","user-info","comment-counters","new-lines","fold-texts","direct-style","emoji","not-you","confirm-delete","show-group-admins","docs-preview","hide-repeated-comments-icons","datetime","show-usernames","direct-warning"];t.flagNames=u;var d=["not-you"],l=function(){function e(t,n){if(o(this,e),void 0!==n)this.userId=n.userId,this.flags=n.flags,this.banPosts=n.banPosts,this.banComms=n.banComms,this.hideAlienPosts=n.hideAlienPosts;else if(this.userId=t,!localStorage.hasOwnProperty(s)&&localStorage.hasOwnProperty("ffc-sac-settings"))this.flags=JSON.parse(localStorage["ffc-sac-settings"]),this.banPosts=r(localStorage["be-fe.banList"],[]),this.banComms=r(localStorage["be-fe.banListComms"],[]),this.hideAlienPosts="1"===localStorage["be-fe.hide-alien-posts"],this.save();else{var a=r(localStorage[s],{}),i=a.hasOwnProperty(this.userId)?a[this.userId]:{};this.flags=i.hasOwnProperty("flags")?i.flags:{},this.banPosts=i.hasOwnProperty("banPosts")?i.banPosts:[],this.banComms=i.hasOwnProperty("banComms")?i.banComms:[],this.hideAlienPosts=i.hasOwnProperty("banComms")?!!i.hideAlienPosts:!1}}return a(e,[{key:"flag",value:function(e){return i.arrHas(u,e)?this.flags.hasOwnProperty(e)?this.flags[e]:!i.arrHas(d,e):!1}},{key:"setFlag",value:function(e,t){i.arrHas(u,e)&&(this.flags[e]=!!t)}},{key:"save",value:function(){var e=r(localStorage[s],{});e[this.userId]={flags:this.flags,banPosts:this.banPosts,banComms:this.banComms,hideAlienPosts:this.hideAlienPosts},localStorage[s]=JSON.stringify(e)}}]),e}();t["default"]=l},function(e,t){"use strict";function n(e,t){r(e,t)||e.push(t)}function o(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}function r(e,t){return-1!==e.indexOf(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.arrAdd=n,t.arrDel=o,t.arrHas=r},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=1,a="@response",i=function(){function e(){var t=this;n(this,e),this.__responders=new Map,this.__listeners=new Map,window.addEventListener("message",function(e){if("object"==typeof e.data){var n=e.data,o=n.action,r=n.requestId,i=n.value,s=e.source,u=e.origin;if(o===a&&t.__responders.has(r))t.__responders.get(r)(i),t.__responders["delete"](r);else if(t.__listeners.has(o)){var d=t.__listeners.get(o)(i);s.postMessage({action:a,requestId:r,value:d},u)}}})}return o(e,[{key:"send",value:function(e,t,n){var o=this,a=void 0===arguments[3]?null:arguments[3];return new Promise(function(i){var s=r++;o.__responders.set(s,i),e.postMessage({action:n,requestId:s,value:a},t)})}},{key:"on",value:function(e,t){this.__listeners.set(e,t)}}]),e}();t["default"]=i,e.exports=t["default"]},function(e,t,n){var o=n(6);"string"==typeof o&&(o=[[e.id,o,""]]);n(8)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,'.be-fe-comments-fold-handle,.be-fe-in-comments-link{font-style:italic;margin-left:21px}.be-fe-comment-folded{display:none}.be-fe-comments-expanded .be-fe-comment-folded{display:block}.be-fe-comments-expanded .be-fe-comments-fold-handle{display:none}.be-fe-comment-hl{background-color:#def}.be-fe-ups{display:inline-block;background:#eee;padding:0 .25em;border-radius:.25em;cursor:default}.p-attachment-url{position:relative;display:inline-block}.p-attachment-url.be-fe-gif-ani:after{content:"\\25b6 GIF";position:absolute;bottom:3px;right:4px;background-color:#069;color:#eee;font-weight:700;padding:.1em .4em;border-radius:3px;font-size:11px}.be-fe-settingsLink .fa{display:none}.be-fe-settingsLink.be-fe-have-upgrade .fa{display:inline;color:#ff4d00;margin-left:.3em}.be-fe-from-whom{font-size:13px}.be-fe-hide-aliens-switcher{float:right;font-size:13px}.be-fe-hide-aliens-switcher label{font-weight:400}.be-fe-hide-aliens .be-fe-post-from-alien{display:none}.be-fe-hide-cont{position:relative}.be-fe-hide-win{position:absolute;-webkit-transform:translateX(-50%);transform:translateX(-50%);white-space:nowrap;background:#fff;box-shadow:0 3px 10px rgba(0,0,0,.5);border-radius:2px;border:1px solid #999;z-index:10;left:50%;top:1em;padding:1em 1em .5em;margin-top:10px}.be-fe-hide-win:after,.be-fe-hide-win:before{content:"";position:absolute;top:-10px;left:50%;border-bottom:10px solid #999;border-left:10px solid transparent;border-right:10px solid transparent;margin-left:-10px}.be-fe-hide-win:after{top:-9px;border-bottom:10px solid #fff}.be-fe-hide-win ul{padding-left:1.2em}.be-fe-hide-win li{margin-bottom:.5em}.be-fe-bottom-comment-link{font-style:italic;margin-left:21px}.add-comment-block+.be-fe-add-comment-block,.be-fe-add-comment-block:first-child,.be-fe-bottom-comment-link:first-child,.comment+.be-fe-add-comment-block,.comment+.be-fe-bottom-comment-link{display:none}.be-fe-add-comment-block .add-comment-link{font-style:italic;margin-left:6px}.be-fe-add-comment-block .fa-stack{float:left;width:1em;height:1em;line-height:1em}.be-fe-add-comment-block .fa-plus,.be-fe-add-comment-block .fa-square{font-size:60%;top:3px;left:3px}.be-fe-add-comment-block .fa-plus{top:4px;left:4px}.be-fe-userinfo-wrapper{position:relative}.be-fe-userinfo-win{position:absolute;-webkit-transform:translateX(-50%);transform:translateX(-50%);white-space:nowrap;background:#fff;box-shadow:0 3px 10px rgba(0,0,0,.5);border-radius:2px;border:1px solid #999;z-index:10;left:50%;top:1em;padding:1em 1em .5em;margin-top:10px;min-width:17em;font-size:13px;line-height:1pc;text-align:left}.be-fe-userinfo-win:after,.be-fe-userinfo-win:before{content:"";position:absolute;top:-10px;left:50%;border-bottom:10px solid #999;border-left:10px solid transparent;border-right:10px solid transparent;margin-left:-10px}.be-fe-userinfo-win:after{top:-9px;border-bottom:10px solid #fff}.be-fe-userinfo-win a{display:inline!important;color:#008!important}.be-fe-userinfo-pic{float:left;border:1px solid #999;margin-bottom:.5em;width:75px;height:75px}.be-fe-userinfo-info{margin-left:88px;position:relative;height:77px}.be-fe-userinfo-screenName{font-weight:700}.be-fe-userinfo-relation{font-style:italic;position:absolute;bottom:0;left:0}.be-fe-userinfo-actions{font-size:9pt;margin-top:7px;border-top:1px solid #ccc;padding-top:2px}.be-fe-userinfo-actions:empty{display:none}.be-fe-userinfo-actions a{font-weight:400!important}.be-fe-userinfo-actions span:after{content:"\\00a0\\2022\\00a0";color:#999}.be-fe-userinfo-actions span:last-child:after{content:""}ul.tile-list li{overflow:visible}.be-fe-comment-from{position:relative}.be-fe-comment-hidden .comment-text{color:#999}.be-fe-comment-hidden:after{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;content:"Hidden comment";background-color:#f5f5f5;box-sizing:border-box;padding:2px;color:#ccc;cursor:default;opacity:1;transition:opacity .3s,visibility 0s}.be-fe-comment-hidden:hover:after{opacity:0;visibility:hidden;transition:opacity .3s 2s,visibility 0s 2.3s}.sidebar .box-body ul li{overflow:visible}.be-fe-gdoc{max-width:100%;border:1px solid #ccc;box-shadow:0 2px 10px rgba(0,0,0,.3);margin-bottom:2em}.be-fe-folded-text{display:block;overflow:hidden;height:6pc;position:relative}.be-fe-folded-text.text{height:114px}.be-fe-folded-text:after{position:absolute;content:"";bottom:0;left:0;right:0;height:2em;background:linear-gradient(to bottom,hsla(0,0%,100%,0),hsla(0,0%,100%,.7));pointer-events:none}.be-fe-folded-text-read-more{display:none;position:absolute;bottom:0;right:0;background:linear-gradient(to right,hsla(0,0%,100%,0),#fff 3.5em);padding-left:4em;z-index:1}.be-fe-folded-text .be-fe-folded-text-read-more,.be-fe-folded-text-nl .be-fe-folded-text-read-more{display:block}.be-fe-folded-text-read-more-link{font-style:italic}.be-fe-userinfo-alert{margin-top:.5em;color:red}.be-fe-folded-text-nl{position:relative}.be-fe-folded-text-nl .be-fe-folded-text-para{position:relative;margin-bottom:0!important;overflow:hidden}.be-fe-folded-text-nl .be-fe-folded-text-para:after{position:absolute;content:"";bottom:0;left:0;right:0;height:2em;background:linear-gradient(to bottom,hsla(0,0%,100%,0),hsla(0,0%,100%,.7));pointer-events:none}.be-fe-folded-text-nl .be-fe-folded-text-hidden{display:none}body.transition-active:before{z-index:2}.be-fe-confirm-hidden{display:none}.be-fe-confirm-wrapper{display:inline-block;position:relative}.be-fe-confirm-win{position:absolute;-webkit-transform:translateX(-50%);transform:translateX(-50%);white-space:nowrap;background:#fff;box-shadow:0 3px 10px rgba(0,0,0,.5);border-radius:2px;border:1px solid #999;z-index:10;-webkit-transform:translateX(-50%) scale(.5);transform:translateX(-50%) scale(.5);left:50%;top:50%;margin-top:-17.58px;padding:.66em 1em;color:#999;visibility:hidden;opacity:0;-webkit-transition:all .1s;transition:all .1s}.be-fe-confirm-wrapper--show .be-fe-confirm-win{visibility:visible;opacity:1;-webkit-transform:translateX(-50%) scale(1);transform:translateX(-50%) scale(1);-webkit-transition:all .1s;transition:all .1s}.be-fe-group-admin,.be-fe-mutual-friend{position:relative}.be-fe-group-admin--crown,.be-fe-mutual-friend--crown{position:absolute;top:-11px;right:17px;width:24px;height:24px;background:url(https://cdn.rawgit.com/davidmz/BetterFeed/v1.23.0/images/emoji/basic/crown.png) no-repeat;background-size:100%;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.be-fe-mutual-friend--crown{right:19px;background-image:url(https://cdn.rawgit.com/davidmz/BetterFeed/v1.23.0/images/emoji/basic/star.png);-webkit-transform:none;transform:none}.embedly-card-hug{margin:5px 0!important}.embedly-card-hug>div{display:none!important}.post-body .general-attachments .attachment{display:block}.be-fe-doc-view-wrapper{width:100%;height:0;padding-bottom:40%;position:relative}.be-fe-doc-view-frame{position:absolute;top:0;left:0;width:100%;height:100%}.be-fe-username{opacity:.66;font-weight:400}.be-fe-popup-page{background-color:#fff;border:1px solid #000;padding:2em;width:100%;cursor:default}.be-fe-access-token{word-wrap:break-word;font-family:monospace;color:#069;background-color:#eee;padding:1em}.be-fe-close-popup-button{padding:.25em 2em;cursor:pointer}.be-fe-green{padding:1em}.be-fe-green .fa{opacity:.66}',""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(o[a]=!0)}for(r=0;r<t.length;r++){var i=t[r];"number"==typeof i[0]&&o[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),e.push(i))}},e}},function(e,t,n){function o(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=f[o.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(s(o.parts[a],t))}else{for(var i=[],a=0;a<o.parts.length;a++)i.push(s(o.parts[a],t));f[o.id]={id:o.id,refs:1,parts:i}}}}function r(e){for(var t=[],n={},o=0;o<e.length;o++){var r=e[o],a=r[0],i=r[1],s=r[2],u=r[3],d={css:i,media:s,sourceMap:u};n[a]?n[a].parts.push(d):t.push(n[a]={id:a,parts:[d]})}return t}function a(){var e=document.createElement("style"),t=m();return e.type="text/css",t.appendChild(e),e}function i(){var e=document.createElement("link"),t=m();return e.rel="stylesheet",t.appendChild(e),e}function s(e,t){var n,o,r;if(t.singleton){var s=b++;n=h||(h=a()),o=u.bind(null,n,s,!1),r=u.bind(null,n,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=i(),o=l.bind(null,n),r=function(){n.parentNode.removeChild(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(),o=d.bind(null,n),r=function(){n.parentNode.removeChild(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}function u(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=v(t,r);else{var a=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function d(e,t){var n=t.css,o=t.media;t.sourceMap;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function l(e,t){var n=t.css,o=(t.media,t.sourceMap);o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(r),a&&URL.revokeObjectURL(a)}var f={},c=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},p=c(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),m=c(function(){return document.head||document.getElementsByTagName("head")[0]}),h=null,b=0;e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=p());var n=r(e);return o(n,t),function(e){for(var a=[],i=0;i<n.length;i++){var s=n[i],u=f[s.id];u.refs--,a.push(u)}if(e){var d=r(e);o(d,t)}for(var i=0;i<a.length;i++){var u=a[i];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete f[u.id]}}}};var v=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=f["default"]+"/src/options/options.html?origin="+encodeURIComponent(location.origin);return/iPhone|iPad/.test(navigator.userAgent)?void window.open(e,"_blank"):(document.body.appendChild(b),h.innerHTML="",h.appendChild(s["default"]("iframe.light-box-iframe",{src:e,frameborder:"0"})),void b.classList.remove("hidden"))}function a(){document.body.appendChild(b),h.innerHTML='\n    <div class="be-fe-popup-page">\n        <p>\n            Your access token is:\n        </p>\n        <p class="be-fe-access-token">\n            '+m["default"](c.authToken)+'\n        </p>\n        <p>\n            <strong>WARNING:</strong> Keep your token secure at all times and do not share it with services you do not fully trust.\n            They will be able to perform ANY operation on your behalf including changing your password and\n            <strong>locking you out of your account</strong>.\n        </p>\n        <p>\n            Giving your token to third party services provides them with FULL and UNLIMITED access to your account.\n            You can not change the token, you cannot revert access once you give it out.\n        </p>\n        <p>\n            If you suspect your token is being abused, contact <a href="mailto:freefeed.net@gmail.com">freefeed.net@gmail.com</a> <strong>immediately</strong>.\n        </p>\n        <p style="text-align: center">\n            <button class="be-fe-close-popup-button">Close</button>\n        </p>\n    </div>\n    ',b.classList.remove("hidden"),h.querySelector(".be-fe-popup-page").addEventListener("click",function(e){return e.stopPropagation()}),h.querySelector(".be-fe-close-popup-button").addEventListener("click",function(){h.innerHTML="",b.classList.add("hidden")})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),s=o(i),u=n(12),d=o(u),l=n(14),f=o(l),c=n(1),p=n(15),m=o(p);n(16);var h=s["default"](".light-box-container.be-fe-settingsLB"),b=s["default"](".frf-co-light-box.hidden",s["default"](".light-box-shadow",h)),v=localStorage["be-fe-version"];setInterval(function(){var e=document.querySelector(".be-fe-settingsLink");e&&(localStorage["be-fe-version"]===v?e.classList.remove("be-fe-have-upgrade"):e.classList.add("be-fe-have-upgrade"))},2e3),b.addEventListener("click",function(){h.innerHTML="",b.classList.add("hidden")}),t["default"]=function(e){if(v){e=e||document.body;var t=e.querySelector(".p-settings-betterfeed-header");if(t){var n=t.parentNode;if(!n.querySelector(".be-fe-settings-in-settings")){var o=s["default"]("a.be-fe-settings-in-settings","configure settings"),i=s["default"]("a.be-fe-settings-in-settings","show access token");n.insertBefore(s["default"]("p.bg-success.be-fe-green","BetterFeed enabled ("+v+") | ",s["default"]("i.fa.fa-cog")," ",o," | ",s["default"]("i.fa.fa-exclamation-triangle")," ",i),d["default"](n,":scope > p")[1]),o.addEventListener("click",function(){return r()}),i.addEventListener("click",function(){return a()})}}var u=e.querySelector(".sidebar");if(u&&!u.querySelector(".be-fe-settingsLink")){var l;u.appendChild(s["default"](".box.be-fe-settingsLink",s["default"](".box-header-groups","Add-ons"),s["default"](".box-body",s["default"]("ul",s["default"]("li",l=s["default"]("a","BetterFeed settings"),s["default"]("div",{style:"font-size: 11px"},v,s["default"]("i.fa.fa-arrow-circle-up",{title:"Доступно обновление, перезагрузите страницу"}))))))),l.addEventListener("click",function(){return r()})}}},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){var o,r,i,u=e.split("."),d=u.shift()||"div";"$"===d?i=document.createDocumentFragment():(i=document.createElement(d),u.length>0&&(i.className=u.join(" ")));var l=1;if(arguments.length>1&&"object"==typeof t&&!(t instanceof Node)&&!s["default"](t)){for(r in t)t.hasOwnProperty(r)&&i.setAttribute(r,t[r]);l=2}if(arguments.length>l)for(o=l;o<arguments.length;o++)a(i,arguments[o]);return i}function a(e,t){t instanceof Node?e.appendChild(t):s["default"](t)?t.forEach(a.bind(null,e)):"string"==typeof t&&e.appendChild(document.createTextNode(t))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var i=n(11),s=o(i);e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)};t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),a=o(r);t["default"]=function(e,t,n){if(null===e)return[];var o=e.querySelectorAll(t),r=o?Array.prototype.slice.call(o):[];if(a["default"](e,t)&&r.unshift(e),n)for(var i=0,s=r.length;s>i;i++)n(r[i]);return r},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="matches"in HTMLElement.prototype?"matches":"msMatchesSelector";t["default"]=function(e,t){return e[n](t)},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="https://cdn.rawgit.com/davidmz/BetterFeed/"+localStorage["be-fe-version"];if(document.currentScript){var o=document.currentScript.src.split("/");n=o.slice(0,o.length-2).join("/")}t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},e.exports=t["default"]},function(e,t,n){var o=n(17);"string"==typeof o&&(o=[[e.id,o,""]]);n(8)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,'.frf-co-light-box.hidden{display:none}.light-box-arrow{position:absolute;left:0;top:50%;margin-top:-60px;width:90px;height:90pt;color:#fff;cursor:pointer}.light-box-arrow:hover{background:hsla(0,0%,100%,.1)}.light-box-arrow:before{content:"";position:absolute;left:20px;top:50%;margin-top:-15px;width:30px;height:30px;border-top:5px solid;border-right:5px solid;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.light-box-arrow.left:before{left:auto;right:20px;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}.light-box-arrow.right{left:auto;right:0}.frf-co-light-box.first .light-box-arrow.left,.frf-co-light-box.last .light-box-arrow.right{display:none}.light-box-shadow{position:fixed;top:0;left:0;width:100%;height:100%;z-index:100;cursor:zoom-out;background:rgba(0,0,0,.4)}.light-box-container,.light-box-shadow{display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center}.light-box-container{width:90%;height:90%;-webkit-overflow-scrolling:touch}.light-box-img{border:1px solid #000;box-shadow:1px 1px 10px rgba(0,0,0,.5);max-width:100%;max-height:100%;margin:auto;background-color:#fff;cursor:pointer;image-orientation:from-image}.light-box-iframe{background:#fff;width:100%;height:100%}.light-box-thumbnail{cursor:zoom-in!important}',""])},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),a=o(r),i=n(19),s=o(i),u=n(20),d=o(u),l=null;t["default"]=function(e){if(e=e||document.body,!l){var t=e.querySelector(".logged-user .author a");t&&(l=t.getAttribute("href").substr(1))}a["default"](e,".comment:not(.be-fe-comment-from)",function(e){var t=s["default"](e,".post-body");if(t){var n=t.querySelector(".title a").getAttribute("href").substr(1),o=e.querySelector(".author a");if(!o)return void(e.classList.contains("p-timeline-comment")&&(e.classList.add("be-fe-comment-from"),e.classList.add("be-fe-comment-from-me")));var r=o.getAttribute("href").substr(1);d["default"].ready.then(function(t){var n=t.whoIs(r);n&d["default"].ME?e.classList.add("be-fe-comment-from-me"):n&d["default"].FRIEND?e.classList.add("be-fe-comment-from-friend"):n&d["default"].READER&&e.classList.add("be-fe-comment-from-reader")}),r==n&&e.classList.add("be-fe-comment-from-post-author"),e.classList.add("be-fe-comment-from"),e.classList.add("be-fe-comment-from-u-"+r),e.dataset.author=r}})},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){for(var n=arguments,o=!0;o;){var r=e,a=t;s=u=void 0,o=!1;var s=void 0===n[2]?!1:n[2],u=s?r:r.parentNode;if(!u||u.nodeType!=Node.ELEMENT_NODE)return null;if(i["default"](u,a))return u;n=[e=u,t=a],o=!0}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var a=n(13),i=o(a);e.exports=t["default"]},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(21),s=o(i),u=n(22),d=o(u),l=function(){function e(){r(this,e),this.me=null,this.myID=null,this.myScreenName=null,this.friends=[],this.readers=[],this.banIds=[]}return a(e,[{key:"whoIs",value:function(t){var n=0;return t===this.me&&(n|=e.ME),-1!==this.friends.indexOf(t)&&(n|=e.FRIEND),-1!==this.readers.indexOf(t)&&(n|=e.READER),n}},{key:"isBanned",value:function(e){return-1!==this.banIds.indexOf(e)}},{key:"subscribed",value:function(e){-1===this.friends.indexOf(e)&&this.friends.push(e)}},{key:"unsubscribed",value:function(e){var t=this.friends.indexOf(e);-1!==t&&this.friends.splice(t,1)}},{key:"blocked",value:function(e){-1===this.banIds.indexOf(e)&&this.banIds.push(e)}},{key:"unblocked",value:function(e){var t=this.banIds.indexOf(e);-1!==t&&this.banIds.splice(t,1)}}]),e}();t["default"]=l,l.ME=1,l.FRIEND=2,l.READER=4,l.ready=null,l.update=function(){l.ready=s.get("/v1/users/whoami").then(function(e){var t=new l;return t.me=e.users.username,t.myID=e.users.id,t.myScreenName=e.users.screenName,d.setPic(e.users.username,e.users.profilePictureMediumUrl),t.friends=e.subscribers.map(function(e){return d.setPic(e.username,e.profilePictureMediumUrl),e.username}),t.banIds=e.users.banIds,s.get("/v1/users/"+t.me+"/subscribers").then(function(e){return t.readers=e.subscribers.map(function(e){return d.setPic(e.username,e.profilePictureMediumUrl),e.username}),t})})},l.update(),e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return new Promise(function(t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="json",o.setRequestHeader("X-Authentication-Token",i.authToken),o.onload=function(){o.response&&"err"in o.response?n(o.response.err):t(o.response)},o.send()})}function r(e,t){return new Promise(function(n,o){var r=new XMLHttpRequest;r.open("PUT",e),r.responseType="json",r.setRequestHeader("X-Authentication-Token",i.authToken),r.onload=function(){r.response&&"err"in r.response?o(r.response.err):n(r.response)},r.send(t)})}function a(e,t){return new Promise(function(n,o){var r=new XMLHttpRequest;r.open("POST",e),r.responseType="json",r.setRequestHeader("X-Authentication-Token",i.authToken),r.onload=function(){r.response&&"err"in r.response?o(r.response.err):n(r.response)},r.send(t)})}Object.defineProperty(t,"__esModule",{value:!0}),t.get=o,t.put=r,t.post=a;var i=n(1)},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return u.get("/v1/users/"+e).then(function(e){var t=e.users.profilePictureMediumUrl;return t&&""!==t?t:f})}function a(e){return e in c||(c[e]=r(e)),c[e]}function i(e,t){c[e]=l.resolve(t&&""!==t?t:f)}Object.defineProperty(t,"__esModule",{value:!0}),t.getPic=a,t.setPic=i;var s=n(21),u=o(s),d=n(23),l=o(d),f="https://freefeed.net/img/default-userpic-48.png",c={}},function(e,t){"use strict";function n(e){var t=e.length,n=new Array(e.length);return new Promise(function(o,r){e.forEach(function(e,a){e.then(function(e){n[a]=e,t--,0===t&&o(n)},function(e){r(e)})})})}function o(e){return new Promise(function(t,n){t(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.all=n,t.resolve=o},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),a=o(r),i=n(20),s=o(i);t["default"]=function(e){e=e||document.body,a["default"](e,".p-settings-alert",function(){return s["default"].update()})},e.exports=t["default"]},function(e,t,n){function o(e){return n(r(e))}function r(e){return a[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var a={"./animated-gif":26,"./animated-gif.js":26,"./at-links":27,"./at-links.js":27,"./block-list":28,"./block-list.js":28,"./bottom-comment-link":29,"./bottom-comment-link.js":29,"./colored-comment-icons":30,"./colored-comment-icons.js":30,"./comment-counters":33,"./comment-counters.js":33,"./comment-icons-click":36,"./comment-icons-click.js":36,"./comments-common":18,"./comments-common.js":18,"./confirm-delete":37,"./confirm-delete.js":37,"./datetime":38,"./datetime.js":38,"./direct-style":39,"./direct-style.js":39,"./direct-warning":42,"./direct-warning.js":42,"./docs-preview":44,"./docs-preview.js":44,"./embed-ly":45,"./embed-ly.js":45,"./emoji":48,"./emoji.js":48,"./fix-names":52,"./fix-names.js":52,"./fold-texts":53,"./fold-texts.js":53,"./hide":54,"./hide-aliens":55,"./hide-aliens.js":55,"./hide-repeated-comments-icons":56,"./hide-repeated-comments-icons.js":56,"./hide.js":54,"./iam-common":24,"./iam-common.js":24,"./lightboxed-images":59,"./lightboxed-images.js":59,"./new-lines":61,"./new-lines.js":61,"./not-you":64,"./not-you.js":64,"./settings-link":9,"./settings-link.js":9,"./show-group-admins":65,"./show-group-admins.js":65,"./show-usernames":66,"./show-usernames.js":66,"./user-info":67,"./user-info.js":67,"./userpics-in-comments":70,"./userpics-in-comments.js":70,"./where-this-post-from":75,"./where-this-post-from.js":75};o.keys=function(){return Object.keys(a)},o.resolve=r,e.exports=o,o.id=25},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(!e.src.match(/^data:/)){var t=document.createElement("canvas"),n=t.width=e.width,o=t.height=e.height,r=new Image;r.crossOrigin="anonymous",r.onload=function(){t.getContext("2d").drawImage(r,0,0,n,o),e.src=t.toDataURL()},r.src=e.src}}function a(e){return new Promise(function(t,n){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.addEventListener("load",function(){var e,r,a=new Uint8Array(o.response),i=a.length,s=0;if(71!==a[0]||73!==a[1]||70!==a[2]||56!==a[3])return void n();for(e=0,r=i-9;r>e&&2>s;e++)0!==a[e]||33!==a[e+1]||249!==a[e+2]||4!==a[e+3]||0!==a[e+8]||44!==a[e+9]&&33!==a[e+9]||s++;(s>1?t:n)()}),o.send()})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),s=o(i);t["default"]=function(e,t){e=e||document.body,s["default"](e,"img.p-attachment-thumbnail[src$='.gif'][src*='/attachments/']:not(.be-fe-gif)",function(e){e.classList.add("be-fe-gif"),a(e.src).then(function(){e.parentNode.classList.add("be-fe-gif-ani"),e.complete?r(e):e.addEventListener("load",function(){
return r(e)})},function(){})})},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),a=o(r),i=n(10),s=o(i),u=n(19),d=o(u);t["default"]=function(e){e=e||document.body,a["default"](e,".comment-text, .post-body > .body > .text",function(e){for(var t=e.firstChild;t;){if(t.nodeType==Node.TEXT_NODE&&/\B@([a-z0-9_]+)/i.test(t.nodeValue)){for(var n,o=/\B@([a-z0-9_]+)/gi,r=t.nodeValue,a=document.createDocumentFragment(),i=0;null!==(n=o.exec(r));){var u=n[0],d=n[1].toLowerCase(),l=n.index;a.appendChild(document.createTextNode(r.substr(i,l-i))),i=l+u.length;var c=a.appendChild(s["default"]("a.be-fe-at-link",{href:"/"+d},u));f(c,".be-fe-comment-from-u-"+d)}var p=a.appendChild(document.createTextNode(r.substr(i)));e.insertBefore(a,t),e.removeChild(t),t=p}t=t.nextSibling}}),a["default"](e,".comment-text",function(e){for(var t=e.firstChild;t;){if(t.nodeType==Node.TEXT_NODE&&/[↑^]/.test(t.nodeValue)){for(var n,o=/↑+|\^+W?/g,r=t.nodeValue,a=document.createDocumentFragment(),i=0;null!==(n=o.exec(r));){var u=n[0],c=n.index;if("^W"!==u){a.appendChild(document.createTextNode(r.substr(i,c-i))),i=c+u.length;var p=a.appendChild(s["default"]("span.be-fe-ups",u)),m=l(d["default"](e,".ember-view"),u.length);m&&f(p,"#"+m.id)}}var h=a.appendChild(document.createTextNode(r.substr(i)));e.insertBefore(a,t),e.removeChild(t),t=h}t=t.nextSibling}})};var l=function(e,t){for(var n=null;;){var o;if(e=e.previousElementSibling,!e)break;if(e.classList.contains("more-comments"))o=parseInt(e.textContent),isNaN(o)||(t-=o);else if(e.classList.contains("more-comments-wrapper"))o=parseInt(e.firstElementChild.textContent),isNaN(o)||(t-=o);else if(e.classList.contains("ember-view")&&(t--,0==t)){n=e;break}}return n},f=function(e,t){e.dataset.hlSelector||(e.dataset.hlSelector=t,e.addEventListener("mouseover",c),e.addEventListener("mouseout",p))},c=function(e){var t;(t=e.target.dataset.hlSelector)&&a["default"](d["default"](e.target,".comments"),t,function(e){e.classList.add("be-fe-comment-hl")})},p=function(e){a["default"](d["default"](e.target,".comments"),".be-fe-comment-hl",function(e){e.classList.remove("be-fe-comment-hl")})};e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),a=(o(r),n(10)),i=o(a),s=n(20),u=o(s);t["default"]=function(e){e=e||document.body;var t=e.querySelector(".sidebar a[href$='/subscriptions']");t&&(t.innerHTML="Browse/edit friends and others",u["default"].ready.then(function(t){if(0!==t.banIds.length&&location.pathname==="/"+t.me+"/subscriptions"){var n=e.querySelector(".content .box-body");n&&!n.querySelector(".be-fe-ban-list")&&n.appendChild(i["default"]("h3","Blocked users"))}}))},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),a=o(r),i=n(10),s=o(i),u=n(19),d=o(u);t["default"]=function(e){e=e||document.body,a["default"](e,".p-timeline-post-comment-action:not(.be-fe-copied)",function(e){e.classList.add("be-fe-copied");var t=d["default"](e,".post-body");if(t&&!t.querySelector(".add-comment-block")){var n={"data-ember-action":e.getAttribute("data-ember-action")},o=s["default"](".add-comment-block.be-fe-add-comment-block",s["default"]("a.fa-stack.fa-1x",n,s["default"]("i.fa.fa-comment-o fa-stack-1x"),s["default"]("i.fa.fa-square.fa-inverse.fa-stack-1x"),s["default"]("i.fa.fa-plus.fa-stack-1x")),s["default"]("a.add-comment-link",n,"Add comment"));t.querySelector(".comments").appendChild(o)}})},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),a=o(r),i=n(10),s=o(i);n(31),t["default"]=function(e){e=e||document.body,a["default"](e,".comment .date:not(.be-fe-iconized)",function(e){e.classList.add("be-fe-iconized"),e.appendChild(s["default"]("i.fa.fa-comment.icon.be-fe-ico-bg"))})},e.exports=t["default"]},function(e,t,n){var o=n(32);"string"==typeof o&&(o=[[e.id,o,""]]);n(8)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,".date.be-fe-iconized{position:relative}.date.be-fe-iconized .icon{position:absolute;top:0;left:0;z-index:1}.date.be-fe-iconized .icon.be-fe-ico-bg{z-index:0}.be-fe-ico-bg{color:#fff}.be-fe-comment-from-reader .be-fe-ico-bg{color:#ededed}.be-fe-comment-from-friend .be-fe-ico-bg{color:#cef4fc}.be-fe-comment-from-post-author .be-fe-ico-bg{color:#b5b5b5}.be-fe-comment-from-me .be-fe-ico-bg{color:#ffd061}.add-comment-block{clear:left;margin-top:8px}",""])},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),a=o(r);n(34),t["default"]=function(e){e=e||document.body,a["default"](e,".more-comments",function(e){var t=parseInt(e.textContent);isNaN(t)||(e.style.counterIncrement="comments "+t)})},e.exports=t["default"]},function(e,t,n){var o=n(35);"string"==typeof o&&(o=[[e.id,o,""]]);n(8)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,'.comments{counter-reset:comments}.comments .comment{counter-increment:comments 1}.comments .comment:before{content:counter(comments) ".";position:absolute;left:-38px;top:0;width:2pc;text-align:right;color:#666;visibility:hidden;opacity:0;transition:opacity .3s,visibility 0s .3s}.comments .comment:hover:before{visibility:visible;opacity:1;transition:opacity .3s,visibility 0s}',""])},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),a=o(r),i=n(13),s=o(i);t["default"]=function(e){void 0===e&&document.body.addEventListener("click",u,!1)};var u=function(e){if((s["default"](e.target,".comment .date")||e.target.parentNode&&s["default"](e.target.parentNode,".comment .date"))&&0==e.button){e.preventDefault();var t=null;if(e.metaKey||e.ctrlKey){var n,o=a["default"](e.target,".ember-view"),r=1;for(o=o.nextElementSibling;o;)o.classList.contains("ember-view")?r++:o.classList.contains("more-comments")?(n=parseInt(o.textContent),isNaN(n)||(r+=n)):o.classList.contains("more-comments-wrapper")&&(n=parseInt(o.firstElementChild.textContent),isNaN(n)||(r+=n)),o=o.nextElementSibling;t=new Array(r+1).join("^")}var i=a["default"](e.target,".comment").dataset.author,u=a["default"](e.target,".post-body"),d=u.querySelector("textarea");if(!d){var l=u.querySelector(".p-timeline-post-comment-action");l&&(l.click(),d=u.querySelector("textarea"))}d&&(t?d.value+=t+" "+(e.shiftKey?"this":""):i&&(d.value+="@"+i+" "),d.focus(),d.selectionStart=d.selectionEnd=d.value.length,$(d).change())}};e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),a=o(r),i=n(10),s=o(i);t["default"]=function(e){e=e||document.body,a["default"](e,".p-comment-delete, .p-post-destroy, .p-timeline-post-destroy-action",function(e){if(!e.classList.contains("be-fe-confirm-hidden")){e.classList.add("be-fe-confirm-hidden");var t=null,n=s["default"]("a",e.innerHTML),o=s["default"]("a","Yes, delete!"),r=s["default"]("a","Cancel"),a=s["default"]("span.be-fe-confirm-wrapper",n,s["default"](".be-fe-confirm-win",o," • ",r));e.parentNode.insertBefore(a,e),n.addEventListener("click",function(){a.classList.add("be-fe-confirm-wrapper--show"),t=window.setTimeout(function(){a.classList.remove("be-fe-confirm-wrapper--show"),t=null},5e3)}),r.addEventListener("click",function(){a.classList.remove("be-fe-confirm-wrapper--show"),window.clearTimeout(t)}),o.addEventListener("click",function(){window.clearTimeout(t),$(e).click()})}})},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=new Date(e),n=a(t.getHours())+":"+a(t.getMinutes()),o=u[t.getMonth()]+" "+t.getDate();return e<Date.now()-864e7&&(o+=" "+t.getFullYear()),o+", "+n}function a(e){for(var t=void 0===arguments[1]?2:arguments[1],n=e.toString();n.length<t;)n="0"+n;return n}Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),s=o(i);t["default"]=function(e){e=e||document.body,s["default"](e,"time",function(e){var t=Date.parse(e.getAttribute("datetime"));if(!(Date.now()-t<864e5)){var n=r(t);e.firstChild?(e.setAttribute("title",n),e.innerHTML=n):e.parentNode.setAttribute("title",n)}})};var u="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),a=o(r);n(40),t["default"]=function(e,t){e=e||document.body,a["default"](e,".direct-post > .title",function(e){var n=a["default"](e,".post-addressee");if(0!=n.length){for(var o,r=e.querySelector(".post-author").getAttribute("href"),i=n[0],s=i.parentNode;i;)o=i.nextSibling,s.removeChild(i),i=o;n.filter(function(e){return!e.classList.contains("post-addressee-direct")||e.getAttribute("href")!=r}).forEach(function(e,n,o){n>0&&s.appendChild(document.createTextNode(n===o.length-1?" and ":", ")),s.appendChild(e),t.flag("fix-names")&&e.getAttribute("href")===r&&s.appendChild(document.createTextNode("’"+("s"!==r.substr(-1)?"s":"")+" feed"))})}})},e.exports=t["default"]},function(e,t,n){var o=n(41);"string"==typeof o&&(o=[[e.id,o,""]]);n(8)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,".timeline-post-container.direct-post{background-color:#eee;background-image:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='36' height='36' viewBox='0 0 48 48'><path fill='%23ffffff' d='M40 8H8c-2.21 0-3.98 1.79-3.98 4L4 36c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 8L24 26 8 16v-4l16 10 16-10v4z'/></svg>\");background-repeat:no-repeat;background-position:top right;background-position:top .5em right .5em;padding-left:1em;padding-right:1em;border-bottom:1px solid #fff;margin:-1px -1em 5px;border-radius:5px}.timeline-post-container.direct-post .be-fe-folded-text-para:after{background:linear-gradient(to bottom,hsla(0,0%,93%,0),hsla(0,0%,93%,.007))}.timeline-post-container.direct-post .be-fe-folded-text-read-more{background:linear-gradient(to right,hsla(0,0%,93%,0),#eee 3.5em)}.timeline-post-container.direct-post .be-fe-folded-text:after{background:linear-gradient(to bottom,hsla(0,0%,93%,0),hsla(0,0%,93%,.007))}.timeline-post-container.direct-post .fa-inverse{color:#eee}.single-post-container.direct-post{background:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='36' height='36' viewBox='0 0 48 48'><path fill='%23eeeeee' d='M40 8H8c-2.21 0-3.98 1.79-3.98 4L4 36c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 8L24 26 8 16v-4l16 10 16-10v4z'/></svg>\") no-repeat top right}.post-addressee-direct{padding-left:13px;background:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 48 48'><path fill='%23666666' d='M24 24c4.42 0 8-3.59 8-8 0-4.42-3.58-8-8-8s-8 3.58-8 8c0 4.41 3.58 8 8 8zm0 4c-5.33 0-16 2.67-16 8v4h32v-4c0-5.33-10.67-8-16-8z'/></svg>\") no-repeat left center;white-space:nowrap}",""])},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){return _.has(e)||_.set(e,v.get("/v1/users/"+e)),_.get(e)}function s(e){return Array.prototype.slice.call(e.options).filter(function(e){return e.selected}).map(function(e){return e.value})}function u(e,t,n){var o=p["default"]("$",1===n.length?e:t," "),r=n.shift(),a=n.pop();return o.appendChild(p["default"]("strong",r)),n.forEach(function(e){return o.appendChild(p["default"]("$",", ",p["default"]("strong",e)))}),a&&o.appendChild(p["default"]("$"," and ",p["default"]("strong",a))),o}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(u){r=!0,a=u}finally{try{!o&&s["return"]&&s["return"]()}finally{if(r)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=n(19),f=r(l),c=n(10),p=r(c),m=n(20),h=r(m),b=n(21),v=o(b),g=n(23),y=o(g),x=n(43),w=r(x);t["default"]=function(e,t){e=e||document.body;var n=e.querySelector("select.p-sendto-select");if(null!==n){var o=f["default"](n,".p-timeline-post-create").querySelector(".p-create-post-view"),r=p["default"]("span"),l=p["default"]("span"),c=p["default"]("span"),m=p["default"](".alert.alert-warning.hidden","You are going to send a direct message to ",r,", but also chose ",l,".","This means that everyone who reads ",c," will be able to read your message.");o.parentNode.insertBefore(m,o);var b=new w["default"](s(n));$(n).on("change",function(){return b.value=s(n)});var v=n.parentNode,g=new w["default"]("none"!==v.style.display),x=new MutationObserver(function(){return g.value="none"!==v.style.display});x.observe(v,{attributes:!0,attributeFilter:["style"]}),w["default"].combine(b,g.distinct()).map(function(e){var t=d(e,2),n=t[0],o=t[1];return o?n:[]}).map(function(e){return y.all([h["default"].ready].concat(a(e.map(function(e){return i(e)}))))}).latestPromise().onValue(function(e){var t=e.shift(),n=[],o=[];e.map(function(e){return e.users}).forEach(function(e){var r="user"===e.type&&e.username!==t.me?o:n;r.push(e.username)}),o.length>0&&n.length>0?(c.innerHTML=n.length>1?"these feeds":"this feed",r.innerHTML="",r.appendChild(u("user","users",o)),l.innerHTML="",l.appendChild(u("feed","feeds",n)),m.classList.remove("hidden")):m.classList.add("hidden")})}};var _=new Map;e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(t){n(this,e),this._value=t,this._empty=void 0===t,this._listeners=new Set}return o(e,[{key:"onValue",value:function(e){return this._listeners.add(e),this._empty||e(this.value),this}},{key:"unListen",value:function(e){return this._listeners["delete"](e),this}},{key:"derive",value:function(t){var n=new e;return this.onValue(function(e){return t(n,e)}),n}},{key:"map",value:function(e){return this.derive(function(t,n){return t.value=e(n)})}},{key:"filter",value:function(e){return this.derive(function(t,n){return e(n)&&(t.value=n)})}},{key:"latestPromise",value:function(){var e=null;return this.derive(function(t,n){var o=n;e=o,o.then(function(n){o===e&&(t.value=n)})})}},{key:"distinct",value:function(){var e;return this.derive(function(t,n){n!==e&&(e=n,t.value=n)})}},{key:"value",get:function(){return this._value},set:function(e){this._value=e,this._empty=!1,this._listeners.forEach(function(t){return t(e)})}}],[{key:"combine",value:function(){for(var t=arguments.length,n=Array(t),o=0;t>o;o++)n[o]=arguments[o];var r=new e(n.map(function(e){return e.value}));return n.forEach(function(e,t){return e.onValue(function(e){var n=r.value;n[t]=e,r.value=n})}),r}},{key:"fromInput",value:function(t,n,o){if(!t||!(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement||t instanceof HTMLSelectElement))return new e(null);var r="value";t instanceof HTMLInputElement&&("checkbox"===t.type||"radio"===t.type)&&(r="checked");var a=n?n.split(" "):["input","change"];o=o||r;var i=function(){return"self"===o?t:t[o]},s=new e(i());return a.forEach(function(e){return t.addEventListener(e,function(){return s.value=i()})}),s}}]),e}();t["default"]=r,e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),a=o(r),i=n(10),s=o(i);t["default"]=function(e){e=e||document.body,a["default"](e,".general-attachments .attachment:not(.be-fe-with-preview)",function(e){var t=e.querySelector(".p-attachment-url"),n=t.title,o=/(.*)\s+\(.*?\)$/.exec(n)[1],r=/\.([^.]+)$/.exec(o)[1];t.download||(t.download=o,t.removeAttribute("target")),/\.null$/.test(t.href)&&(t.href=t.href.replace(/\.null$/,"")),-1!==["txt","doc","docx","xls","xlsx","pdf","ppt"].indexOf(r.toLowerCase())&&(e.classList.add("be-fe-with-preview"),e.insertBefore(s["default"](".be-fe-doc-view-wrapper",s["default"]("iframe.be-fe-doc-view-frame",{frameborder:"0",src:"https://docs.google.com/gview?url="+encodeURIComponent(t.href)+"&embedded=true"})),e.firstChild)),"mp4"===r&&!function(){var n=s["default"]("video");n.addEventListener("loadedmetadata",function(){var t=n.videoWidth,o=n.videoHeight,r=Math.max(t,o);r>400&&(t*=400/r,o*=400/r),n.width=t,n.height=o,n.controls=!0,n.loop=!0,e.classList.add("be-fe-with-preview"),e.insertBefore(s["default"](".be-fe-video-view-wrapper",n),e.firstChild)}),n.src=t.href}()})},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),a=o(r),i=n(10),s=o(i),u=n(46);t["default"]=function(e){e||(!function(e,t){var n="embedly-platform",o="script";if(!t.getElementById(n)){e.embedly=e.embedly||function(){(e.embedly.q=e.embedly.q||[]).push(arguments)};var r=t.createElement(o);r.id=n,r.async=1,r.src="https://cdn.embedly.com/widgets/platform.js";var a=t.getElementsByTagName(o)[0];a.parentNode.insertBefore(r,a)}}(window,document),embedly("on","card.rendered",function(e){e.style.margin="10px 0"})),e=e||document.body,a["default"](e,".body",function(e){var t=e.parentNode;t.classList.contains("post-body")&&(t.querySelector(":scope > .attachments")||a["default"](e,".text a").some(function(n){var o=n.getAttribute("href");if(!/^https?:\/\//.test(o)||!/^https?:\/\//.test(n.textContent))return!1;if(/^https:\/\/(m\.)?freefeed\.net\//.test(o))return!1;var r=n.previousSibling;if(null!==r){var a=r.nodeValue;if(a.length>0&&"!"===a.charAt(a.length-1))return!1}var i,d,l=e.nextSibling;if(null!==(d=/^https:\/\/instagram\.com\/p\/([^\/]+)/.exec(o))){var f=d[1],c=u.instagram;i=s["default"]("."+c,s["default"]("a.light-box-thumbnail",{href:o,target:"_blank","data-image-src":"https://instagram.com/p/"+f+"/media/?size=l"},s["default"]("img."+c+"-image",{src:"https://instagram.com/p/"+f+"/media/?size=m"})),s["default"](".be-fe-embed-byline",s["default"]("i.fa.fa-instagram.fa-lg")," ",s["default"]("a",{href:o,target:"_blank"},"View on INSTAGRAM")))}else if(null!==(d=/^https?:\/\/(?:www\.)?youtube\.com\/watch\?(?:v|.*?&v)=([a-zA-Z0-9_-]+)/.exec(o))||null!==(d=/^https?:\/\/(?:www\.)?youtube\.com\/v\/([a-zA-Z0-9_-]+)/.exec(o))||null!==(d=/^https?:\/\/youtu\.be\/([a-zA-Z0-9_-]+)/.exec(o))){var f=d[1],c=u.youtube;i=s["default"](".be-fe-embed-video-cont",s["default"](".be-fe-embed-video-wrapper",s["default"]("iframe",{src:"https://www.youtube.com/embed/"+f+"?rel=0&hd=1&fs=1",frameborder:"0",allowfullscreen:""})),s["default"](".be-fe-embed-byline",s["default"]("i.fa.fa-youtube-play.fa-lg")," ",s["default"]("a",{href:o,target:"_blank"},"View on YOUTUBE")))}else if(null!==(d=/^https:\/\/vimeo\.com\/(\d+)/.exec(o))){var f=d[1];i=s["default"](".be-fe-embed-video-cont",s["default"](".be-fe-embed-video-wrapper",s["default"]("iframe",{src:"https://player.vimeo.com/video/"+f,frameborder:"0",allowfullscreen:""})),s["default"](".be-fe-embed-byline",s["default"]("i.fa.fa-vimeo-square.fa-lg")," ",s["default"]("a",{href:o,target:"_blank"},"View on VIMEO")))}else if(null!==(d=/^https:\/\/docs\.google\.com\/(document|spreadsheets|presentation|drawings)\/d\/([^\/]+)/.exec(o))){var p=d[2],m=s["default"]("img.be-fe-gdoc");m.onerror=function(){m.style.display="none"},m.src="https://drive.google.com/thumbnail?id="+p+"&sz=w590-h236-p",i=s["default"]("a",{href:o,target:"_blank"},m)}else null!==(d=/^https:\/\/itunes\.apple\.com\/app\/id(\d+)/.exec(o))?(i=s["default"]("iframe",{src:"https://widgets.itunes.apple.com/widget.html?c=us&brc=FFFFFF&blc=FFFFFF&trc=FFFFFF&tlc=FFFFFF&d=&t=&m=software&e=software,iPadSoftware&w=325&h=300&ids="+d[1]+"&wt=discovery&partnerId=&affiliate_id=&at=&ct=",frameborder:"0"}),i.style.cssText="overflow-x:hidden;overflow-y:hidden;width:325px;height: 300px;border:0px"):null!==(d=/^https?:\/\/coub\.com\/view\/([^\/?#]+)/.exec(o))?!function(){var e=d[1];i=new Promise(function(t){var n=new XMLHttpRequest;n.open("GET","https://davidmz.me/oembed/coub/oembed.json?url="+encodeURIComponent(o)),n.responseType="json",n.onload=function(){var r=parseInt(n.response.width),a=parseInt(n.response.height);r>450&&(a=Math.round(450*a/r),r=450),t(s["default"]("div",s["default"]("iframe",{src:"https://coub.com/embed/"+e+"?muted=false&autostart=false&originalSize=false&hideTopBar=false&startWithHD=true",allowfullscreen:"true",frameborder:"0",style:"width: "+r+"px; height: "+a+"px;"}),s["default"](".be-fe-embed-byline",s["default"]("a",{href:o,target:"_blank"},"View on COUB"))))},n.send()})}():i=s["default"]("a.embedly-card",{href:n.href,"data-card-width":"60%"});return"then"in i?i.then(function(e){t.insertBefore(s["default"](".be-fe-embeds",e),l)}):t.insertBefore(s["default"](".be-fe-embeds",i),l),!0}))})},e.exports=t["default"]},function(e,t,n){var o=n(47);"string"==typeof o&&(o=[[e.id,o,""]]);n(8)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,".be-fe-embeds{margin-bottom:1em}.be-fe-embed-byline{margin-top:.5em}.be-fe-embed-video-cont{max-width:500px}.be-fe-embed-video-wrapper{position:relative;width:100%;height:0;padding-bottom:56.25%;padding-top:25px}.be-fe-embed-video-wrapper>iframe{position:absolute;top:0;left:0;width:100%;height:100%}._1yAFzBdW_J8tfXQsFFkLjA-image{border:1px solid #666;max-width:100%}",""]),t.locals={instagram:"_1yAFzBdW_J8tfXQsFFkLjA"}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e){if(e.nodeType==Node.ELEMENT_NODE){var t,n;for(t=e.firstChild;t;)n=t.nextSibling,e.classList.contains("author")||r(t),t=n}var o=/:([+-]1|e-mail|non-potable_water|ничоси|[a-z0-9_]+):|((?:[\uD800-\uDBFF][\uDC00-\uDFFF])+)|([\u2702-\u27B0\u24C2\u2139\u2300-\u32FF])|(.[\u20E3])/g;if(e.nodeType==Node.TEXT_NODE&&o.test(e.nodeValue)){o.lastIndex=0;for(var d,l=e.nodeValue,f=0,c=document.createDocumentFragment();null!==(d=o.exec(l));){d.index!=f&&c.appendChild(document.createTextNode(l.substr(f,d.index-f)));var p,m,h;if(void 0!==d[1])h=c.appendChild(document.createTextNode(d[0])),s(h,d[1],d[0],!1);else if(void 0!==d[2]){var b,v,g=d[2],y=a(g);for(p=0;p<y.length;p++)i(y[p])&&p<y.length-1&&i(y[p+1])?(b=g.substr(2*p,4),v=u(y[p])+"-"+u(y[p+1]),p++):(b=g.substr(2*p,2),v=u(y[p])),h=c.appendChild(document.createTextNode(b)),s(h,v,b,!0)}else void 0!==d[3]?(h=c.appendChild(document.createTextNode(d[0])),m=d[3].charCodeAt(0),s(h,u(m),d[0],!0)):void 0!==d[4]&&(h=c.appendChild(document.createTextNode(d[0])),s(h,u(d[4].charCodeAt(0))+"-"+u(d[4].charCodeAt(1)),d[0],!0));f=d.index+d[0].length}l.length!=f&&c.appendChild(document.createTextNode(l.substr(f))),e.parentNode.insertBefore(c,e),e.parentNode.removeChild(e)}}}function a(e){var t,n=[];for(t=0;t<e.length;t+=2)n.push(1024*(e.charCodeAt(t)-55296)+(e.charCodeAt(t+1)-56320)+65536);return n}function i(e){return e>=127462&&127487>=e}function s(e,t,n,o){var r=t in x?x[t]:t,a=-1!==y.indexOf(r)?g:v;o&&(a+="/unicode");var i=c["default"]("img.be-fe-emo",{src:a+"/"+r+".png",alt:n});o||(i.title=":"+t+":"),m["default"](i).then(function(){e.parentNode.insertBefore(c["default"]("span.be-fe-emo-wrap",i),e),e.parentNode.removeChild(e)})}function u(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t.toUpperCase()}Object.defineProperty(t,"__esModule",{value:!0});var d=n(12),l=o(d),f=n(10),c=o(f),p=n(49),m=o(p),h=n(14),b=o(h);n(50);var v=b["default"]+"/images/emoji/basic",g=b["default"]+"/images/emoji/custom",y=["neechowsee"],x={"ничоси":"neechowsee",skeleton:"skull",poo:"poop",flame:"fire",grandma:"older_woman"};t["default"]=function(e){e=e||document.body,l["default"](e,".comment-text, .post-body .text",function(e){r(e)})},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return new Promise(function(t,n){e&&(e.complete?setTimeout(t,0):e.addEventListener("load",t))})},e.exports=t["default"]},function(e,t,n){var o=n(51);"string"==typeof o&&(o=[[e.id,o,""]]);n(8)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,".be-fe-emo-wrap{position:relative;display:inline-block;vertical-align:top;width:1.3em}.timeline-post-container .post-body>.body .be-fe-emo-wrap{width:1.6em}.comments .be-fe-emo-wrap{width:1.5em}.be-fe-emo{position:absolute;top:0;left:50%;width:24px;height:24px;margin-left:-9pt;transition:transform .2s}.be-fe-emo:hover{transform:scale(2);transition:transform .2s .5s;z-index:1}.comments .be-fe-emo{width:18px;height:18px;margin-left:-9px;top:-1px}.timeline-post-container .post-body>.body .be-fe-emo{width:22px;height:22px;margin-left:-11px;top:-2px}",""])},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),a=o(r),i=n(15),s=o(i),u=n(10),d=o(u),l=null;t["default"]=function(e,t){e=e||document.body;var n=t.flag("fix-names");if(!l){var o=e.querySelector(".logged-user .author a");o&&(l=o.getAttribute("href").substr(1))}a["default"](e,".post-body > .title a:not(.be-fe-nameFixed), .p-comment-body .author a:not(.be-fe-nameFixed), .p-timeline-user-like > a:not(.be-fe-nameFixed)",function(e){if(e.hasAttribute("href")){e.classList.add("be-fe-nameFixed");var o,r=e.getAttribute("href").substr(1),a=e.textContent;n?o=s["default"](r):(o=s["default"](a),r===a||r===l&&!t.flag("not-you")||(o+=' <span class="be-fe-username">('+s["default"](r)+")</span>")),e.innerHTML=o,!t.flag("user-info")&&n&&e.setAttribute("title",a)}}),a["default"](e,".p-timeline-subscription-user, .p-timeline-sunsctiption-group, .p-user-subscriber",function(e){a["default"](e,"a[href]:not(.be-fe-nameFixed)",function(e){e.classList.add("be-fe-nameFixed");for(var o=e.getAttribute("href").substr(1),r="",a=e.firstChild;a;){if(a.nodeType==Node.TEXT_NODE&&(r=a.nodeValue.replace(/^\s*|\s*$/,""),""!==r)){n?a.nodeValue=o:o!=r&&a.parentNode.insertBefore(d["default"]("$"," ",d["default"]("span.be-fe-username","(",o,")")),a.nextSibling);break}a=a.nextSibling}""!==r&&!t.flag("user-info")&&n&&e.setAttribute("title",r)})})},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),a=o(r),i=n(10),s=o(i),u=140,d=100;t["default"]=function(e,t){e=e||document.body,t.flag("new-lines")?a["default"](e,".p-timeline-post .comment-text, .p-timeline-post .body .text",function(e){if(!(e.offsetHeight<u)){var t=e.classList.contains("comment-text"),n=t?18:21;e.classList.add("be-fe-folded-text-nl");var o=null;a["default"](e,":scope > p",function(t){if(!o&&t.offsetTop+t.offsetHeight>u){o=t,t.classList.add("be-fe-folded-text-para");var r,a=Math.floor(t.offsetHeight/n);for(r=1;a>=r&&!(t.offsetTop+r*n>d);r++);t.style.height=r*n+"px";var i=s["default"]("a.be-fe-folded-text-read-more-link","Read more…"),l=t.appendChild(s["default"](".be-fe-folded-text-read-more",i));i.addEventListener("click",function(){e.classList.remove("be-fe-folded-text-nl"),o.style.height="auto"});var f=e.querySelector(".be-fe-comm-controls");f&&l.appendChild(f.cloneNode(!0))}else o&&t.classList.add("be-fe-folded-text-hidden")})}}):a["default"](e,".p-timeline-post .comment-text, .p-timeline-post .body .text",function(e){if(!(e.offsetHeight<u)){var t=e.classList.contains("comment-text"),n=null;if(t){var o,r=e.nextSibling;for(n=e.appendChild(s["default"]("span.be-fe-comm-controls"));r;)o=r.nextSibling,n.appendChild(r),r=o}e.classList.add("be-fe-folded-text");var a=s["default"]("a.be-fe-folded-text-read-more-link","Read more…"),i=e.appendChild(s["default"](".be-fe-folded-text-read-more",a));n&&i.appendChild(n.cloneNode(!0)),a.addEventListener("click",function(){return e.classList.remove("be-fe-folded-text")})}})},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),a=o(r),i=n(10);o(i);t["default"]=function(e,t){t.flag("where-this-post-from")&&(e=e||document.body,t.banComms.forEach(function(t){a["default"](e,".be-fe-comment-from-u-"+t+":not(.be-fe-comment-hidden)",function(e){e.classList.add("be-fe-comment-hidden")})}))},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),a=o(r);t["default"]=function(e,t){if(t.flag("where-this-post-from")&&(void 0===e&&setInterval(function(){var e=t.hideAlienPosts,n=document.body.querySelector(".be-fe-hide-aliens-switcher input"),o=document.body.querySelector(".posts"),r=document.body.querySelector(".be-fe-hide-aliens-counter");n&&n.checked!==e&&(n.checked=e),o&&o.classList.contains("be-fe-hide-aliens")!==e&&(e?o.classList.add("be-fe-hide-aliens"):o.classList.remove("be-fe-hide-aliens")),r&&o&&(r.innerHTML=o.querySelectorAll(".be-fe-post-from-alien").length)},500),"/"===location.pathname&&!document.body.querySelector(".be-fe-hide-aliens-switcher"))){var n=null,o=document.body.querySelector(".box-header-timeline");o&&(o.appendChild(a["default"](".be-fe-hide-aliens-switcher",a["default"]("label",n=a["default"]("input",{type:"checkbox"})," hide non-friends posts (",a["default"]("span.be-fe-hide-aliens-counter","0"),")"))),n.checked=t.hideAlienPosts,n.addEventListener("change",function(){t.hideAlienPosts=n.checked,t.save()}))}},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e)for(var t,n,o,r="",a=0,i=e.firstElementChild;i;){if(i.classList.contains("ember-view"))t=i.querySelector(".p-comment"),n=t.dataset.author||t.querySelector(".author > a").getAttribute("href").substr(1),o=Date.parse(t.querySelector("time").getAttribute("datetime")),n!==r?r=n:a+9e5>o&&t.classList.add("be-fe-next-comment"),a=o;else{if(!i.classList.contains("more-comments-wrapper"))break;r="",a=0}i=i.nextElementSibling}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),i=o(a),s=n(19),u=o(s);n(57),t["default"]=function(e){e=e||document.body;var t;e.querySelector(".comments")?i["default"](e,".comments",r):null!==(t=e.querySelector(".p-comment"))&&r(u["default"](t,".comments"))},e.exports=t["default"]},function(e,t,n){var o=n(58);"string"==typeof o&&(o=[[e.id,o,""]]);n(8)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,".be-fe-next-comment>a.date{border-bottom:none;transform:none!important;position:relative}.be-fe-next-comment>a.date>*{display:none}.be-fe-next-comment>a.date:after{content:'';position:absolute;top:35%;left:50%;width:4px;height:4px;background-color:#ccc;margin-left:-2px;margin-top:-2px;border-radius:50%}.be-fe-next-comment>a.date:hover:after{background-color:#999}",""])},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var r=n(60),a=o(r),i=n(12),s=o(i),u=n(19),d=o(u);n(16);var l=new a["default"];document.body.addEventListener("click",function(e){var t=d["default"](e.target,".light-box-thumbnail",!0);if(t&&0==e.button){e.preventDefault();var n=[t],o=d["default"](t,".attachments");
o&&(n=s["default"](o,".light-box-thumbnail")),l.show(n,t)}},!1),e.exports=function(e){e=e||document.body,s["default"](e,".p-attachment-url:not(.light-box-thumbnail)",function(e){e.dataset.imageSrc?e.classList.add("light-box-thumbnail"):/\.(jpe?g|png|gif)/i.test(e.href)&&(e.dataset.imageSrc=e.href,e.classList.add("light-box-thumbnail"))})}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(10),s=o(i),u=n(19),d=o(u),l=function(){function e(){var t=this;r(this,e),this.image=s["default"]("img"),this.cache={},this.queue=[],this.image.addEventListener("load",function(){return t.moveQueue()}),this.image.addEventListener("error",function(){return t.moveQueue()}),this.moveQueue()}return a(e,[{key:"add",value:function(e){e in this.cache||(this.cache[e]=!0,this.queue.push(e))}},{key:"moveQueue",value:function(){var e=this,t=this.queue.pop();void 0!==t?this.image.src=t:setTimeout(function(){return e.moveQueue()},250)}}]),e}(),f=function(){function e(){var t=this;r(this,e),this.imageStab="https://cdnjs.cloudflare.com/ajax/libs/galleriffic/2.0.1/css/loader.gif",this.lightBoxImage=s["default"]("img.light-box-img",{src:this.imageStab}),this.lightBox=s["default"](".frf-co-light-box.first.last.hidden",s["default"](".light-box-shadow",s["default"](".light-box-container",this.lightBoxImage),s["default"](".light-box-arrow.left"),s["default"](".light-box-arrow.right"))),this.cList=this.lightBox.classList,this.preloader=new l,this.hidden=!0,this.slides=[],this.index=0,document.body.appendChild(this.lightBox),document.body.addEventListener("keydown",function(e){t.hidden||(27==e.keyCode?t.hide():39==e.keyCode?(t.next(),e.preventDefault()):37==e.keyCode?(t.prev(),e.preventDefault()):36==e.keyCode?(t.first(),e.preventDefault()):35==e.keyCode&&(t.last(),e.preventDefault()))},!0),this.lightBox.addEventListener("click",function(e){var n;null!==(n=d["default"](e.target,".light-box-arrow",!0))?(e.stopPropagation(),n.classList.contains("left")?t.prev():n.classList.contains("right")&&t.next()):d["default"](e.target,".light-box-shadow",!0)&&t.hide()}),this.lightBoxImage.addEventListener("click",function(){window.open(t.slides[t.index].href,"_blank")})}return a(e,[{key:"isFirst",value:function(){return 0===this.index}},{key:"isLast",value:function(){return this.index===this.slides.length-1}},{key:"show",value:function(e,t){var n=this;this.slides=e,e.forEach(function(e,o){e===t?n.index=o:n.preloader.add(e.dataset.imageSrc)}),this.hidden=!1,this.cList.remove("hidden"),this._showCurrent()}},{key:"_showCurrent",value:function(){this.lightBoxImage.src=this.imageStab,this.lightBoxImage.src=this.slides[this.index].dataset.imageSrc,this.lightBoxImage.style.cssText="",this.isFirst()?this.cList.add("first"):this.cList.remove("first"),this.isLast()?this.cList.add("last"):this.cList.remove("last")}},{key:"hide",value:function(){this.hidden||(this.hidden=!0,this.cList.add("hidden"))}},{key:"next",value:function(){this.hidden||this.isLast()||(this.index++,this._showCurrent())}},{key:"prev",value:function(){this.hidden||this.isFirst()||(this.index--,this._showCurrent())}},{key:"first",value:function(){this.hidden||this.isFirst()||(this.index=0,this._showCurrent())}},{key:"last",value:function(){this.hidden||this.isLast()||(this.index=this.slides.length-1,this._showCurrent())}}]),e}();t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),a=o(r),i=n(10),s=o(i);n(62);var u=function(e,t,n){e&&e.nodeType==Node.TEXT_NODE&&(e.nodeValue=e.nodeValue.replace(t,n))};t["default"]=function(e){void 0===e&&(document.addEventListener("keydown",function(e){if(13===e.keyCode&&"TEXTAREA"==e.target.tagName&&e.target.classList.contains("ember-text-area")&&e.shiftKey){var t=e.target,n=t.value,o=t.selectionStart;t.value=n.substr(0,o)+"\n"+n.substr(t.selectionEnd),t.setSelectionRange(o+1,o+1)}},!0),document.addEventListener("keyup",function(e){13===e.keyCode&&"TEXTAREA"==e.target.tagName&&e.target.classList.contains("ember-text-area")&&e.shiftKey&&e.stopPropagation()},!0)),e=e||document.body,a["default"](e,".comment-text, .post-body .text",function(e){u(e.firstChild,/^\s+/,""),u(e.lastChild,/\s+$/,"");var t,n,o,r=document.createDocumentFragment(),a=r.appendChild(s["default"]("p"));for(n=e.firstChild;n;)t=n.nextSibling,n.nodeType===Node.TEXT_NODE&&/\n/.test(n.nodeValue)?(n.nodeValue.split(/\n{2,}/).forEach(function(e,t){t>0&&(a=r.appendChild(s["default"]("p"))),e.split(/\n/).forEach(function(e,t){t>0&&a.appendChild(s["default"]("br")),a.appendChild(document.createTextNode(e))})}),n.parentNode.removeChild(n)):a.appendChild(n),n=t;if(o=e.nextSibling,e.classList.contains("comment-text"))for(var i=a.appendChild(s["default"]("span.be-fe-comm-controls"));o;)t=o.nextSibling,i.appendChild(o),o=t;e.appendChild(r)})},e.exports=t["default"]},function(e,t,n){var o=n(63);"string"==typeof o&&(o=[[e.id,o,""]]);n(8)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,".comment .comment-text,.post-body .text{display:block}.comment .comment-text p,.post-body .text p{margin-bottom:.66em}.comment .comment-text p:last-of-type,.post-body .text p:last-of-type{margin-bottom:0}",""])},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),a=o(r),i=n(20),s=o(i),u=n(15),d=o(u);t["default"]=function(e,t){t.flag("fix-names")||(e=e||document.body,s["default"].ready.then(function(n){a["default"](e,"a[href='/"+n.me+"']:not(.be-fe-at-link)",function(e){if(!e.firstElementChild||"IMG"!=e.firstElementChild.nodeName&&"DIV"!=e.firstElementChild.nodeName){var o=d["default"](n.myScreenName);t.flag("show-usernames")&&n.me!==n.myScreenName&&(o+=' <span class="be-fe-username">('+d["default"](n.me)+")</span>"),e.innerHTML=o}})}))},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n){u["default"](t,"."+n+" a",function(t){var n=t.getAttribute("href").substr(1);(e.whoIs(n)&(b["default"].FRIEND|b["default"].READER))===(b["default"].FRIEND|b["default"].READER)&&(t.classList.add("be-fe-mutual-friend"),t.appendChild(m["default"](".be-fe-mutual-friend--crown",{title:"Mutual friend"})))})}function i(e,t){c.all([l.get("/v1/users/"+e),l.get("/v1/users/"+e+"/subscribers")]).then(function(e){var t=e[0].users,n=e[1];t.id&&"group"===t.type&&n.subscribers.filter(function(e){return-1!==t.administrators.indexOf(e.id)}).map(function(e){return e.username}).forEach(function(e){var t=document.querySelector('.p-user-subscriber a[href="/'+e+'"]:not(.be-fe-group-admin)');t&&(t.classList.add("be-fe-group-admin"),t.appendChild(m["default"](".be-fe-group-admin--crown",{title:"Administrator"})))})})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(12),u=r(s),d=n(21),l=o(d),f=n(23),c=o(f),p=n(10),m=r(p),h=n(20),b=r(h);t["default"]=function(e){e=e||document.body;var t=/^\/([a-z0-9-]+)\/(subscriptions|subscribers)$/.exec(location.pathname);if(t){var n,o=t[1],r=t[2];"subscribers"===r&&(n=e.querySelector(".p-user-subscribers"))&&b["default"].ready.then(function(e){e.whoIs(o)&b["default"].ME?a(e,n.nextElementSibling,"p-user-subscriber"):i(o,n.nextElementSibling)}),"subscriptions"===r&&(n=e.querySelector(".p-timeline-subscription-users-header"))&&b["default"].ready.then(function(e){e.whoIs(o)&b["default"].ME&&a(e,n.nextElementSibling,"p-timeline-subscription-user")})}},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(52),a=o(r);t["default"]=function(e,t){t.flag("fix-names")||a["default"](e,t)},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t;if("A"==e.nodeName)t=e;else{if("IMG"!=e.nodeName&&!e.classList.contains("be-fe-username")||"A"!=e.parentNode.nodeName)return null;t=e.parentNode}return t.hasAttribute("href")&&t.getAttribute("href").match(/^\/([a-z0-9]+)(-[a-z0-9]+)*$/)&&!v["default"](t,"."+S)?t:null}function i(e){return!!v["default"](e,"."+S,!0)}function s(e){var t=h["default"]("span.be-fe-userinfo-wrapper");e.parentNode.insertBefore(t,e),t.appendChild(e),u(e.getAttribute("href").substr(1),t)}function u(e,t,n){n=!!n,w.all([y.get("/v1/users/"+e),k["default"].ready]).then(function(e){var o=e[0].users,r=e[1];if(o.id){o.profilePictureLargeUrl&&""!==o.profilePictureLargeUrl||(o.profilePictureLargeUrl=O);var a,i="user"===o.type,s="1"===o.isPrivate,u=r.whoIs(o.username);a=u&k["default"].ME?"You":u&k["default"].FRIEND?i?"Your friend":"Group (you’re in)":u&k["default"].READER?"Your reader":i?"Stranger":"Group",u&k["default"].FRIEND&&u&k["default"].READER&&(a="Your mutual friend"),i||-1===o.administrators.indexOf(r.myID)||(a="Your group");var d=[];if(!(u&k["default"].ME)&&(i?d.push(h["default"]("span",h["default"]("a.a-subs",u&k["default"].FRIEND?"Unsubscribe":s?"Request subs. ":"Subscribe"))):d.push(h["default"]("span",h["default"]("a.a-subs",u&k["default"].FRIEND?"Leave group":"Join group"))),T)){var l=L.arrHas(A.banPosts,o.username);if(d.push(h["default"]("span",h["default"]("a.a-hide-posts",l?"Show posts":"Hide posts"))),i){var f=L.arrHas(A.banComms,o.username),c=r.isBanned(o.id);d.push(h["default"]("span",h["default"]("a.a-hide-comms",f?"Show comms.":"Hide comms."))),d.push(h["default"]("span",h["default"]("a.a-block-user",c?"Unblock":"Block")))}}var p=n?h["default"](".be-fe-userinfo-alert",h["default"]("i.fa.fa-refresh")," Reload page to apply!"):null,m=h["default"](".be-fe-userinfo-win",h["default"]("img.be-fe-userinfo-pic",{src:o.profilePictureLargeUrl}),h["default"](".be-fe-userinfo-info",h["default"](".be-fe-userinfo-screenName",h["default"]("a.be-fe-nameFixed",{href:"/"+o.username},o.screenName)),h["default"](".be-fe-userinfo-userName",s?[h["default"]("i.fa.fa-lock",{title:"Private feed"})," "]:null,o.username),h["default"](".be-fe-userinfo-relation",a)),h["default"](".be-fe-userinfo-actions",{"data-user-id":o.id,"data-username":o.username,"data-subscribed":u&k["default"].FRIEND?"1":"","data-posts-hidden":l?"1":"","data-comms-hidden":f?"1":"","data-user-blocked":c?"1":"","data-is-private":s?"1":""},d),p),b=t.querySelector(".be-fe-userinfo-win");b&&b.parentNode.removeChild(b),t.appendChild(m)}})}function d(e){var t=v["default"](e,"."+S,!0);if(t){var n=t.querySelector(":scope > a");t.parentNode.insertBefore(n,t),t.parentNode.removeChild(t),"webkitTransform"in document.body.style&&(document.body.style.webkitTransform="scale(1)",setTimeout(function(){document.body.style.webkitTransform=""},0))}}function l(e){if("A"===e.target.nodeName){var t=e.target,n=v["default"](t,".be-fe-userinfo-actions");if(n){var o=v["default"](n,"."+S),r=n.dataset.username,a=n.dataset.userId;t.classList.contains("a-subs")?n.dataset.subscribed?y.post("/v1/users/"+r+"/unsubscribe").then(function(){k["default"].ready.then(function(e){return e.unsubscribed(r)}),u(r,o)}):n.dataset.isPrivate?y.post("/v1/users/"+r+"/sendRequest/").then(function(){return alert("Request was sent.")}):y.post("/v1/users/"+r+"/subscribe").then(function(){k["default"].ready.then(function(e){return e.subscribed(r)}),u(r,o)}):t.classList.contains("a-hide-posts")?(n.dataset.postsHidden?I.showPostsFrom(r):I.hidePostsFrom(r),u(r,o)):t.classList.contains("a-hide-comms")?(n.dataset.commsHidden?I.showCommsFrom(r):I.hideCommsFrom(r),u(r,o)):t.classList.contains("a-block-user")&&(n.dataset.userBlocked?y.post("/v1/users/"+r+"/unban").then(function(){k["default"].ready.then(function(e){return e.unblocked(a)}),u(r,o,!0)}):y.post("/v1/users/"+r+"/ban").then(function(){k["default"].ready.then(function(e){return e.blocked(a)}),u(r,o,!0)}),u(r,o))}}}function f(e){var t=a(e.target);t&&(j=setTimeout(s.bind(null,t),C)),i(e.target)&&clearTimeout(N)}function c(e){var t=a(e.target);t&&clearTimeout(j),i(e.target)&&(N=setTimeout(d.bind(null,e.target),P))}Object.defineProperty(t,"__esModule",{value:!0});var p=n(12),m=(r(p),n(10)),h=r(m),b=n(19),v=r(b),g=n(21),y=o(g),x=n(23),w=o(x),_=n(20),k=r(_),L=n(3),E=n(68),M=r(E),C=1e3,P=500,S="be-fe-userinfo-wrapper",O="https://freefeed.net/img/default-userpic-75.png",j=null,N=null,T=!1,A=null,I=null;t["default"]=function(e,t){e||(A=t,I=new M["default"](t),document.body.addEventListener("mouseover",f),document.body.addEventListener("mouseout",c),document.body.addEventListener("click",l),T=t.flag("hide"))},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(12),s=o(i),u=n(10),d=o(u),l=n(69),f=o(l),c=n(2),p=(o(c),n(3)),m=null;f["default"].then(function(){m=document.head.appendChild(d["default"]("style.be-fe-banlist")).sheet});var h=function(){function e(t){var n=this;r(this,e),this.settings=t,f["default"].then(function(){n.settings.banPosts.forEach(function(e){return m.insertRule(".be-fe-post-from-u-"+e+" { display: none; }",0)})})}return a(e,[{key:"hidePostsFrom",value:function(e){p.arrAdd(this.settings.banPosts,e),this.settings.save(),m.insertRule(".be-fe-post-from-u-"+e+" { display: none; }",0)}},{key:"showPostsFrom",value:function(e){p.arrDel(this.settings.banPosts,e),this.settings.save();var t=".be-fe-post-from-u-"+e;Array.prototype.slice.call(m.rules).some(function(e,n){return e.selectorText===t?(m.deleteRule(n),!0):!1})}},{key:"hideCommsFrom",value:function(e){p.arrAdd(this.settings.banComms,e),this.settings.save(),this.settings.banComms.forEach(function(e){s["default"](document.body,".be-fe-comment-from-u-"+e+":not(.be-fe-comment-hidden)",function(e){e.classList.add("be-fe-comment-hidden")})})}},{key:"showCommsFrom",value:function(e){p.arrDel(this.settings.banComms,e),this.settings.save(),s["default"](document.body,".be-fe-comment-from-u-"+e+".be-fe-comment-hidden",function(e){e.classList.remove("be-fe-comment-hidden")})}}]),e}();t["default"]=h,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=new Promise(function(e){"complete"===document.readyState||"interactive"===document.readyState?setTimeout(e,0):document.addEventListener("DOMContentLoaded",e)}),e.exports=t["default"]},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),i=r(a),s=n(22),u=o(s),d=n(13),l=r(d);n(71);var f=null;t["default"]=function(e,t){if(!e&&t.flag("colored-comment-icons")&&n(73),e=e||document.body,!f){var o=e.querySelector(".logged-user .author a");o&&(f=o.getAttribute("href").substr(1))}i["default"](e,".comment a.date:not(.be-fe-with-pic)",function(e){e.classList.add("be-fe-with-pic");var t=e.parentNode,n=t.dataset.author;if(!n){if(!l["default"](t,".p-timeline-comment")||!f)return;n=f,t.classList.add("be-fe-comment-from-me"),t.classList.add("be-fe-comment-from")}var o=e.appendChild(new Image);o.className="be-fe-userpic",u.getPic(n).then(function(e){return o.src=e})})},e.exports=t["default"]},function(e,t,n){var o=n(72);"string"==typeof o&&(o=[[e.id,o,""]]);n(8)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,".comments .comment a.date{display:inline-block;width:1pc;height:20px;transition:transform .2s}.comments .comment a.date:hover{transform:scale(2);transition:transform .2s 1s;z-index:1}a.date .icon{display:none}a.date .be-fe-userpic{width:1pc;height:1pc;border-radius:2px}.comments .comment{min-height:17px}",""])},function(e,t,n){var o=n(74);"string"==typeof o&&(o=[[e.id,o,""]]);n(8)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,"a.date{border-bottom:2px solid transparent}.be-fe-comment-from-reader a.date{border-bottom-color:#ccc}.be-fe-comment-from-friend a.date{border-bottom-color:#5cd4f0}.be-fe-comment-from-post-author a.date{border-bottom-color:#666}.be-fe-comment-from-me a.date{border-bottom-color:#ffb811}",""])},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),i=r(a),s=n(21),u=o(s),d=n(12),l=r(d),f=n(10),c=r(f);t["default"]=function(e,t){if("/"===location.pathname){e=e||document.body;var n=!t.flag("fix-names"),o=n&&t.flag("show-usernames");l["default"](e,".timeline-post-container:not(.be-fe-where-from)",function(e){e.classList.add("be-fe-where-from");var t=e.querySelector(".title a.post-author");if(t){var r=t.getAttribute("href").substr(1);e.classList.add("be-fe-post-from-u-"+r);var a=e.querySelector("a.datetime").getAttribute("href").match(/^\/.+?\/([\w-]+)/);if(a){var s=a[1],d=[];l["default"](e,".title a",function(t){var n=t.getAttribute("href").substr(1);n!==r&&(d.push(n),e.classList.add("be-fe-post-from-u-"+n))}),e.dataset.postAuthor=r,i["default"].ready.then(function(t){t.whoIs(r)&(i["default"].ME|i["default"].FRIEND)||d.some(function(e){return!!(t.whoIs(e)&i["default"].FRIEND)})||(e.classList.add("be-fe-post-from-alien"),u.get("/v1/posts/"+s+"?maxLikes=all").then(function(r){var a={},s=r.users.map(function(e){return a[e.username]=n?e.screenName:e.username,e.username}).filter(function(e){return!!(t.whoIs(e)&(i["default"].ME|i["default"].FRIEND))}).filter(function(e,t,n){return n.indexOf(e)===t});if(s.length>0){var u=[];s.length<5?s.forEach(function(e,t){t>0&&(t==s.length-1?u.push(" and "):u.push(", "));var n=[a[e]];o&&a[e]!==e&&n.push(c["default"]("$"," ",c["default"]("span.be-fe-username","(",e,")"))),u.push(c["default"]("a.be-fe-nameFixed",{href:"/"+e},n))}):(s.slice(0,3).forEach(function(e,t){t>0&&u.push(", ");var n=[a[e]];o&&a[e]!==e&&n.push(c["default"]("$"," ",c["default"]("span.be-fe-username","(",e,")"))),u.push(c["default"]("a.be-fe-nameFixed",{href:"/"+e},n))}),u.push(" and "+(s.length-3)+" other")),e.querySelector(".title > div").appendChild(c["default"]("span.be-fe-from-whom"," via ",u))}else e.querySelector(".title > div").appendChild(c["default"]("span.be-fe-from-whom"," via somebody"))}))})}}})}},e.exports=t["default"]}]);